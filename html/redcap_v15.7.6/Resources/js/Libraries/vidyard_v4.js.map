{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/global.js","webpack:////vidyard/vidyard-player-sdk/node_modules/makeup-screenreader-trap/index.js","webpack:////vidyard/vidyard-player-sdk/node_modules/error-stack-parser/error-stack-parser.js","webpack:///../src/lib/index.ts","webpack:////vidyard/vidyard-player-sdk/node_modules/promise-polyfill/src/finally.js","webpack:////vidyard/vidyard-player-sdk/node_modules/promise-polyfill/src/index.js","webpack:///./src/utils/promise.ts","webpack:///./src/utils/config.ts","webpack:///./src/utils/embed-helpers.ts","webpack:///./src/utils/constants.ts","webpack:///./src/models/data-params.ts","webpack:///./src/models/preload-frames.ts","webpack:///./src/utils/frame-messenger.ts","webpack:///./src/models/integrations-watcher.ts","webpack:///./src/api/dispatch-ready.ts","webpack:///./src/api/debug.ts","webpack:///./src/models/markup-injector.ts","webpack:///./src/models/lightbox-animator.ts","webpack:///./src/utils/jsonp.ts","webpack:///./src/utils/messages.ts","webpack:///./src/models/placeholder.ts","webpack:///./src/controllers/inline-player.ts","webpack:///./src/utils/accessibility-helpers.ts","webpack:///./src/utils/user-agent-checker.ts","webpack:////vidyard/vidyard-player-sdk/node_modules/focus-lock/dist/es2015/utils/array.js","webpack:////vidyard/vidyard-player-sdk/node_modules/focus-lock/dist/es2015/focusIsHidden.js","webpack:////vidyard/vidyard-player-sdk/node_modules/focus-lock/dist/es2015/utils/all-affected.js","webpack:////vidyard/vidyard-player-sdk/node_modules/focus-lock/dist/es2015/constants.js","webpack:////vidyard/vidyard-player-sdk/node_modules/focus-lock/dist/es2015/focusInside.js","webpack:////vidyard/vidyard-player-sdk/node_modules/focus-lock/dist/es2015/utils/tabOrder.js","webpack:////vidyard/vidyard-player-sdk/node_modules/focus-lock/dist/es2015/utils/tabbables.js","webpack:////vidyard/vidyard-player-sdk/node_modules/focus-lock/dist/es2015/utils/tabUtils.js","webpack:////vidyard/vidyard-player-sdk/node_modules/focus-lock/dist/es2015/utils/DOMutils.js","webpack:////vidyard/vidyard-player-sdk/node_modules/focus-lock/dist/es2015/utils/firstFocus.js","webpack:////vidyard/vidyard-player-sdk/node_modules/focus-lock/dist/es2015/focusMerge.js","webpack:////vidyard/vidyard-player-sdk/node_modules/focus-lock/dist/es2015/setFocus.js","webpack:////vidyard/vidyard-player-sdk/node_modules/focus-lock/dist/es2015/index.js","webpack:////vidyard/vidyard-player-sdk/node_modules/dom-focus-lock/dist/index.esm.js","webpack:///./src/views/lightbox.ts","webpack:///./src/api/get-player-metadata.ts","webpack:///./src/controllers/lightbox-player.ts","webpack:///./src/models/lightbox-page-thumbnail.ts","webpack:///./src/controllers/backlink.ts","webpack:///./src/views/container.ts","webpack:///./src/models/vidyard-player.ts","webpack:///./src/models/renderer.ts","webpack:///./src/api/add-ready-listener.ts","webpack:///./src/controllers/integrations.ts","webpack:///./src/controllers/seo.ts","webpack:///./src/api/get-players-by-uuid.ts","webpack:///./src/api/progress-events/remove-duplicates.ts","webpack:///./src/api/progress-events/setup-event-listeners.ts","webpack:///./src/api/progress-events-wrapper.ts","webpack:///./src/api/render-player.ts","webpack:///./src/api/vidyard-v4-global.ts","webpack:///./src/api/gdpr.ts","webpack:///./src/api/destroy-player.ts","webpack:///./src/api/vidyard-global.ts","webpack:///./src/utils/error-logger.ts","webpack:///./src/utils/error-report.ts","webpack:///./src/index.script.ts","webpack:////vidyard/vidyard-player-sdk/node_modules/stackframe/stackframe.js","webpack:////vidyard/vidyard-player-sdk/node_modules/style-loader/lib/urls.js","webpack:////vidyard/vidyard-player-sdk/node_modules/style-loader/lib/addStyles.js","webpack:////vidyard/vidyard-player-sdk/node_modules/css-loader/lib/css-base.js","webpack:///./src/css/style.css","webpack:///./src/css/style.css?ab1c","webpack:////vidyard/vidyard-player-sdk/node_modules/makeup-screenreader-trap/util.js","webpack:////vidyard/vidyard-player-sdk/node_modules/custom-event/index.js","webpack:////vidyard/vidyard-player-sdk/node_modules/process/browser.js","webpack:////vidyard/vidyard-player-sdk/node_modules/setimmediate/setImmediate.js","webpack:////vidyard/vidyard-player-sdk/node_modules/timers-browserify/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","g","this","Function","eval","e","window","_extends","assign","target","arguments","length","source","apply","mainEl","trappedEl","dirtyObjects","CustomEvent","util","filterSvg","item","tagName","toLowerCase","showElementPrep","el","useHiddenProperty","prepareElement","hideElementPrep","attributeName","dirtyValue","isProperty","cleanValue","getAttribute","untrap","forEach","preparedObj","setAttribute","removeAttribute","dispatchEvent","bubbles","defaultOptions","trap","selectedOptions","options","document","querySelector","ancestors","getAncestors","siblings","getSiblings","siblingsOfAncestors","getSiblingsOfAncestors","filter","concat","map","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","root","factory","undefined","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","parse","error","stacktrace","parseOpera","stack","match","parseV8OrIE","parseFFOrSafari","Error","extractLocation","urlLike","indexOf","parts","exec","replace","filtered","split","line","tokens","slice","locationParts","pop","functionName","join","fileName","lineNumber","columnNumber","functionNameRegex","matches","message","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","result","len","push","argsRaw","functionCall","shift","args","Shylog","_a","_b","emit","logger","console","log","externalLogger","buffer","customLevel","setLevel","warn","info","getLogs","level","_this","logFn","_i","time","Date","now","msg","default","__webpack_exports__","callback","constructor","then","resolve","reason","reject","setTimeoutFunc","setTimeout","noop","Promise","fn","TypeError","_state","_handled","_value","_deferreds","doResolve","handle","self","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","promise","newValue","finale","thisArg","_unhandledRejectionFn","done","ex","prom","_finally__WEBPACK_IMPORTED_MODULE_0__","all","arr","Array","remaining","res","val","race","values","setImmediate","err","playbackURLOverride","isFn","src","addListener","eventName","oldIeEventName","handler","element","addEventListener","attachEvent","removeListener","removeEventListener","detachEvent","isObjectEmpty","obj","prop","JSON","stringify","indexOfArray","getElementByClass","className","topLevelNode","getElementsByClassName","results","re","RegExp","nodes_1","toArray","getElementsByTagName","node","test","calcAspectRatio","imageEl","additionalWidth","size","getNaturalDimensions","height","width","toFixed","embed_helpers_log","logType","find","array","array_1","includes","itemToCheck","once","expired","spaceOrEnterKeyPressEvent","keyCode","escKeyPressEvent","getCurrentScript","currentScript","script","ele","naturalWidth","naturalHeight","img","Image","htmlCollection","checkJSONParse","jsonString","rej","xhrRequest","endpoint","payload","_c","method","xhr","XMLHttpRequest","withCredentials","XDomainRequest","open","setRequestHeader","onerror","onload","Math","floor","status","responseText","send","dataSet","collection","parseAttributeName","attr","attributes","getQueryParam","location","search","parseVyData","data","keys","reduce","acc","parsedData_1","encodedData","type","nestedData_1","decodeURIComponent","parseNestedData","parsedKey","toggleClass","classToToggle","forceBoolean","hasClass","targetClass","addClass","trim","removeClass","VERSION","ERROR_ORIGIN_RE","OVERLAY_FADE_TIME","PLAYLIST_WIDTH","dynamicPlaybackURL","setPlaybackURL","url","getPlaybackURL","stagingPlaybackUrl","VIDYARD_PLAYBACK_URL","getBaseURL","data_params","DataParams","placeHolderImage","disable_popouts","v","custom_id","vyemail","vysfid","vyetoken","vyac","vyplayer","uuid","access_code","toQueryString","queryParamsString","encodeURIComponent","preloadFrames","embeds","embeds_1","dataParams","preloadHref","VidyardV4","preloadLinks","addPrefetchLink","href","preloadLink","createElement","rel","crossOrigin","body","appendChild","targetOrigin","postMessage","contentWindow","event","stringMessage","targetSrc","receive","iframe","sameSource","validEvent","cookieNames","messageNames","readyEvent","detail","createEvent","legacyCustomEvent","initCustomEvent","dispatch_ready","onVidyardAPI","a","debug_currentScript","navigator","userAgent","cookieEnabled","performance","timing","navigationStart","api_debug","version","ACTIVE_ELEMENT","createIframe","sizing","children","ratio","maxWidth","maxHeight","createJsonLD","playerDetailsScriptTag","text","getStyle","request","success","getIntegrations","getSEO","getMarketoLead","marketoCookie","cookie","contactUrl","jsonpRequests","requestUuid","createJSONPTag","onRes","parentNode","removeChild","jsonp","messages","errors","placeholder","loadPlaceholder","complete","createPlaceholder","container","other","aspect","__rest","image","style","k","inline_player","player","updateAspectRatio","catch","parseInt","toString","innerHTML","iframeLoadedPromise","playerReadyPromise","on","handleResize","aboveBreakpoint","clientWidth","newAspectRatio","parentElement","paddingBottom","innerContainer","position","opacity","display","backgroundColor","updateInlineIframeTitle","metadata","title","off","pl","playlist_always_open","ariaHideChildElements","from","hasAttribute","undoAriaHideChildElements","user_agent_checker","ios","array_toArray","asArray","isArray","es2015_focusIsHidden","querySelectorAll","some","contains","activeElement","_typeof","iterator","all_affected","Boolean","currentNode","group","filterNested","nodes","_loop","j","x","_ret","getTopParent","focusInFrame","frame","es2015_focusInside","topNode","dataset","focusGuard","tabSort","b","tabDiff","tabIndex","indexDiff","index","tabOrder_orderByTabIndex","filterNegative","keepGuards","sort","tabbables","queryTabbables","queryGuardTabbables","tabUtils_getFocusables","parents","withGuards","parent","getParents","getCommonParent","nodea","nodeb","parentsA","parentsB","currentParent","DOMutils_filterFocusable","isVisible","nodeType","Node","DOCUMENT_NODE","computedStyle","getComputedStyle","getPropertyValue","disabled","notHiddenInput","DOMutils_getTabbableNodes","topNodes","DOMutils_parentAutofocusables","parentFocus","isRadio","findSelectedRadio","checked","pickFocusable","utils_firstFocus","isGuard","notAGuard","focusMerge_getTopCommonParent","baseActiveElement","leftEntry","rightEntries","activeElements","leftEntries","topCommon","entry","subEntry","common","focusMerge","lastNode","entries","commonParent","innerElements","_ref4","_ref5","srcNodes","dstNodes","remap","autoFocusables","outerNodes","_ref6","orderedInnerElements","Map","entity","set","innerNodes","_ref7","newId","autoFocused","cnt","firstFocus","lastFocus","isOnGuard","activeIndex","lastIndex","lastNodeInside","firstNodeIndex","lastNodeIndex","returnFirstNode","returnLastNode","abs","focusMerge_newFocus","focusMerge_allParentAutofocusables","autofocus","guardCount","lockDisabled","es2015","focusable","focus","lastActiveTrap","lastActiveFocus","index_esm_isFreeFocus","handleStateChangeOnClient","observed","index_esm_activateTrap","instances","emitChange","propsList","preventDefault","index_esm","domNode","show","iframeString","thumbnailContainer","overlayZindex","playerIframeDOMString","backerElement","containerElement","containingDiv","zIndex","iframeParent","generateLightboxContainer","lightbox","overlay","contentFixed","popbox","overlayWrapper","closeContainer","closeButton","documentMode","generateCloseButton","id","generateLightboxHTML","lightboxConstraint","cloneNode","alt","generateConstraintImage","focusableElement","makeup_screenreader_trap_default","LIGHTBOX_EVENTS","setupAnimations","showLightbox","getElementById","lightboxDOM","updateLightboxIframeTitle","iframeLoaded","makeIframeVisible","lightbox_animator_handleResize","parentEsc","removeLightbox","onIframeLoad","listenForKeyPress","iframeListenForKeyPress","messageHandler","postMessageData","params","overlayClick","fixedClick","closeKeyPress","responsivePlayerSize","hideLightbox","constraintImage","orientation","parseFloat","innerHeight","innerWidth","callbacks","fixedElement","trigger","getPlayerMetadata","metadataEndpoint","__assign","vyContext","lightbox_player","embedScriptElement","queryParams","lightboxString","iframeSizing","playerIframe","thumbnailSizing","lightboxThumbnailUrl","composeLightboxString","insertAdjacentHTML","playButton","pbData","pb","pbc","applyLightboxPlayButton","SKIP_BACKLINK_HOSTNAMES_RE","backlink","force","hasBacklink","host","linkEl","linkTextEl","imgEl","textContent","backlinkURL","testid","views_container","styles","margin","overflow","Player","callbackStore","_ready","_previousTime","_onMessageEventHandler","origin","_updateStatus","integrations","updatePlayer","eventCallbacks","_callbackStore","eventCallbacks_1","beforeSeek","chapterComplete","createCta","fullScreenChange","lightboxClose","pause","play","playerComplete","ready","seek","sidePlaylistOpen","timeupdate","videoComplete","volumeChange","progressEventsUnsubscribe","this_1","splice","evt","_message","resume","setVolume","newVolume","setPlaybackSpeed","speed","playChapter","chapterIndex","playVideoAtIndex","chapter_index","setAudioTrack","audioTrackId","enableCaption","label","language","disableCaption","consentToGDPR","consent","shallowMerge","display_once","duration","fullscreen","html","start","updateCta","ctaId","createVideoSection","milliseconds","updateVideoSection","deleteVideoSection","addEvent","videoIndex","eventId","getCurrentChapter","getCurrentVideoIndex","currentTime","scrubbing","toggleFullscreen","fullscreenAPI","apiMap","browserAPI","apiMap_1","browserMethods","getFullscreenAPI","fullscreenPromise","requestFullscreen","fullscreenchange","fullscreenElement","exitFullscreen","resetPlayer","vidyard_player_assign","renderPlayer","placeholderImg","players","api","playerReadyListeners","rendered","newPlayer","vidyard_player","insertBefore","processReadyListeners","getCookie","leadData","addKnownVisitor","org","_tmpOrg","integrationsControler","jsonLD","seoController","jsonpData","Vidyard","_players","removeDuplicates","targetArray","templates","listeners","copyTemplate","thresholds","lastTimeUpdate","partOfVideoWatched","timeWatched","setup_event_listeners_addListener","updateTimeWatched","listener","getListener","deltaTime","chapters_attributes","video_attributes","length_in_seconds","percentWatched","chapter","setupEventListeners","addTemplate","onTimeUpdate","removeEventListeners","removeTemplateAndListeners","progressEvents","singlePlayerScope","getPlayers","dedupedThresholds","removeCb","renderPlayerFromPlaceholder","vidyard_v4_global","_debug","GDPR","userConsent","players_1","hasConsentOnReady","playersReady","gdpr","_readyConsent","players_2","addReadyListener","currentPlayer","destroyPlayer","unsubscribeProgressEvents","getPlayersByUUID","subscriptions","renderDOMPlayers","embedLocations","HTMLImageElement","loadedEloquaScript","organizations","orgId","foundIntegrations","eloqua","eloquaFirstPartyDomain","loadEloquaTrackingScript","handleStatus","checkForIntegrations","safelyCommunicateIntegration","integration","externalIdentifier","haveSentIntegrationToPlayer","communicateIntegration","setIntegrationSent","integrationName","visitorData","communicateKnownVisitor","organization","cookies","GetElqCustomerGUID","cookieName","alterDynamicCookieName","cookies_1","currentCookie","equalIndex","foundName","substr","foundId","sentPlayers","setupFoundIntegration","playerUuid","setIntegrationIdentifier","messagePlayersFoundIntegration","sendKnownVisitor","leadType","messageNames_1","orgKey","currentOrganization","cookieValue","parseCookieValue","pardot","msgName","marketo","siteId","firstPartyDomain","createEloquaScriptNode","_elqQ","eloquaScript","async","firstScript","readyState","setInterval","vidyard_global","vyError","errorHandler","filename","timeStamp","vyGlobal","trace","exception","class","frames","error_stack_parser","code","colno","lineno","client","cpu","platform","javascript","browser","guess_uncaught_frames","source_map_enabled","code_version","custom","playbackUrlOverride","environment","fingerprint","query_string","timestamp","createErrorReport","index_script_players","index_script_api","_isNumber","isNaN","isFinite","_capitalize","str","charAt","toUpperCase","substring","_getter","booleanProps","numericProps","stringProps","props","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFunctionName","getFileName","getLineNumber","getColumnNumber","Number","String","css","baseUrl","protocol","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","$1","memo","stylesInDom","isOldIE","atob","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","domStyle","refs","addStyle","listToStyles","list","newStyles","base","part","media","sourceMap","insertStyleElement","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","firstChild","before","removeStyleElement","idx","createStyleElement","attrs","addAttrs","update","remove","transform","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","link","createLinkElement","autoFixUrls","convertToAbsoluteUrls","unescape","blob","oldSrc","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","cssNode","childNodes","useSourceMap","content","cssMapping","sourceMapping","sourceURLs","sources","sourceRoot","cssWithMappingToString","mediaQuery","alreadyImportedModules","hmr","locals","filterAncestor","filterSibling","flattenArrays","getPreviousSiblings","previousSibling","getNextSiblings","getAllAncestors","nextAncestor","NativeCustomEvent","global","foo","useNative","cancelable","createEventObject","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","nextTick","env","argv","versions","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","registerImmediate","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","runIfPresent","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","documentElement","onreadystatechange","random","task","clearImmediate","scope","Timeout","clearFn","_id","_clearFn","clearInterval","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout"],"mappings":"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","file":"v4.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"https://play.vidyard.com/embed/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict'; // requires CustomEvent polyfill for IE\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar CustomEvent = require('custom-event');\n\nvar util = require('./util.js'); // the main landmark\n\n\nvar mainEl; // the element that will be trapped\n\nvar trappedEl; // collection of elements that get 'dirtied' with aria-hidden attr or hidden prop\n\nvar dirtyObjects; // filter function for svg elements\n\nvar filterSvg = function filterSvg(item) {\n  return item.tagName.toLowerCase() !== 'svg';\n};\n\nfunction showElementPrep(el, useHiddenProperty) {\n  var preparedElement;\n\n  if (useHiddenProperty === false) {\n    preparedElement = prepareElement(el, 'aria-hidden', 'false');\n  } else {\n    preparedElement = prepareElement(el, 'hidden', false);\n  }\n\n  return preparedElement;\n}\n\nfunction hideElementPrep(el, useHiddenProperty) {\n  var preparedElement;\n\n  if (useHiddenProperty === false) {\n    preparedElement = prepareElement(el, 'aria-hidden', 'true');\n  } else {\n    preparedElement = prepareElement(el, 'hidden', true);\n  }\n\n  return preparedElement;\n}\n\nfunction prepareElement(el, attributeName, dirtyValue) {\n  var isProperty = typeof dirtyValue === 'boolean';\n  return {\n    el: el,\n    attributeName: attributeName,\n    cleanValue: isProperty ? el[attributeName] : el.getAttribute(attributeName),\n    dirtyValue: dirtyValue,\n    isProperty: isProperty\n  };\n}\n\nfunction dirtyElement(preparedObj) {\n  if (preparedObj.isProperty === true) {\n    preparedObj.el[preparedObj.attributeName] = preparedObj.dirtyValue;\n  } else {\n    preparedObj.el.setAttribute(preparedObj.attributeName, preparedObj.dirtyValue);\n  }\n}\n\nfunction cleanElement(preparedObj) {\n  if (preparedObj.cleanValue) {\n    if (preparedObj.isProperty === true) {\n      preparedObj.el[preparedObj.attributeName] = preparedObj.cleanValue;\n    } else {\n      preparedObj.el.setAttribute(preparedObj.attributeName, preparedObj.cleanValue);\n    }\n  } else {\n    preparedObj.el.removeAttribute(preparedObj.attributeName);\n  }\n}\n\nfunction untrap() {\n  if (trappedEl) {\n    // restore 'dirtied' elements to their original state\n    dirtyObjects.forEach(function (item) {\n      return cleanElement(item);\n    });\n    dirtyObjects = []; // 're-enable' the main landmark\n\n    if (mainEl) {\n      mainEl.setAttribute('role', 'main');\n    } // let observers know the screenreader is now untrapped\n\n\n    trappedEl.dispatchEvent(new CustomEvent('screenreaderUntrap', {\n      bubbles: true\n    }));\n    trappedEl = null;\n  }\n}\n\nvar defaultOptions = {\n  useHiddenProperty: false\n};\n\nfunction trap(el, selectedOptions) {\n  // ensure current trap is deactivated\n  untrap();\n\n  var options = _extends({}, defaultOptions, selectedOptions); // update the trapped el reference\n\n\n  trappedEl = el; // update the main landmark reference\n\n  mainEl = document.querySelector('main, [role=\"main\"]'); // we must remove the main landmark to avoid issues on voiceover iOS\n\n  if (mainEl) {\n    mainEl.setAttribute('role', 'presentation');\n  } // cache all ancestors, siblings & siblings of ancestors for trappedEl\n\n\n  var ancestors = util.getAncestors(trappedEl);\n  var siblings = util.getSiblings(trappedEl);\n  var siblingsOfAncestors = util.getSiblingsOfAncestors(trappedEl); // if using hidden property, filter out SVG elements as they do not support this property\n\n  if (options.useHiddenProperty === true) {\n    siblings = siblings.filter(filterSvg);\n    siblingsOfAncestors = siblingsOfAncestors.filter(filterSvg);\n  } // prepare elements\n\n\n  dirtyObjects = [showElementPrep(trappedEl, options.useHiddenProperty)].concat(ancestors.map(function (item) {\n    return showElementPrep(item, options.useHiddenProperty);\n  })).concat(siblings.map(function (item) {\n    return hideElementPrep(item, options.useHiddenProperty);\n  })).concat(siblingsOfAncestors.map(function (item) {\n    return hideElementPrep(item, options.useHiddenProperty);\n  })); // update DOM\n\n  dirtyObjects.forEach(function (item) {\n    return dirtyElement(item);\n  }); // let observers know the screenreader is now trapped\n\n  trappedEl.dispatchEvent(new CustomEvent('screenreaderTrap', {\n    bubbles: true\n  }));\n}\n\nmodule.exports = {\n  trap: trap,\n  untrap: untrap\n};\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n                }\n                var tokens = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').split(/\\s+/).slice(1);\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                        .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                        .replace(/\\([^\\)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n",null,"export default function(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      return constructor.resolve(callback()).then(function() {\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n","import promiseFinally from './finally';\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  this._state = 0;\n  this._handled = false;\n  this._value = undefined;\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = promiseFinally;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","import PromisePolyfill from 'promise-polyfill';\n\nconst isFn = (fn) => typeof fn === 'function';\n\nconst checkNativePromise = ({ Promise } = window) =>\n  Promise &&\n  Promise.all &&\n  Promise.race &&\n  Promise.resolve &&\n  Promise.reject &&\n  isFn(Promise) &&\n  isFn(Promise.all) &&\n  isFn(Promise.race) &&\n  isFn(Promise.resolve) &&\n  isFn(Promise.reject);\n\nconst promiseFn = checkNativePromise() ? window.Promise : PromisePolyfill;\n\nexport default promiseFn;\n","import { getCurrentScript } from './embed-helpers';\n\nconst dynamicPlaybackURL = (function playbackURL() {\n  let playbackURLOverride;\n\n  return {\n    setPlaybackURL(url: string) {\n      playbackURLOverride = url;\n      return playbackURLOverride;\n    },\n\n    getPlaybackURL() {\n      // override the `PLAYBACK_URL` if data-playbackurl exists on the script tag\n      const currentScript = getCurrentScript();\n      const stagingPlaybackUrl = currentScript\n        ? currentScript.getAttribute('data-playbackurl')\n        : null;\n\n      return (\n        playbackURLOverride ||\n        window.VIDYARD_PLAYBACK_URL ||\n        stagingPlaybackUrl ||\n        'play.vidyard.com'\n      );\n    },\n  };\n})();\n\nexport * from './constants';\nexport const { setPlaybackURL } = dynamicPlaybackURL;\nexport const { getPlaybackURL } = dynamicPlaybackURL;\nexport const getBaseURL = () => `https://${getPlaybackURL()}/v4/`;\nexport const getErrorURL = () => `https://${getPlaybackURL()}/v4/error`;\n","/*\n* File contains the minimum amount of helper functions to allow embed to work in IE9+\n* Has no access to jQuery / Underscore etc\n*/\n\nimport Promise from './promise';\n\nexport const addListener = (\n  eventName,\n  oldIeEventName,\n  handler,\n  element: HTMLElement | Window | Document = window,\n) => {\n  if (window.addEventListener) {\n    element.addEventListener(eventName, handler, false);\n  } else if (window.attachEvent) {\n    element.attachEvent(oldIeEventName, handler);\n  }\n\n  return { eventName, handler, element };\n};\n\nexport const removeListener = (\n  eventName,\n  handler,\n  element: HTMLElement | Window | Document = window,\n) => {\n  if (element.removeEventListener) {\n    element.removeEventListener(eventName, handler, false);\n  } else if (element.detachEvent) {\n    element.detachEvent('on' + eventName, handler);\n  } else {\n    element['on' + eventName] = null;\n  }\n};\n\nexport const createEvent = (eventName, payload) => {\n  if (typeof window.CustomEvent === 'function') {\n    return new window.CustomEvent(eventName, { detail: payload });\n  } else if (typeof document.createEvent === 'function') {\n    const legacyCustomEvent = document.createEvent('CustomEvent');\n    legacyCustomEvent.initCustomEvent(eventName, false, false, payload);\n    return legacyCustomEvent;\n  }\n};\n\nexport const isObjectEmpty = (obj) => {\n  for (const prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n  return JSON.stringify(obj) === JSON.stringify({});\n};\n\nexport const indexOfArray = (item, arr) => {\n  if (arr.indexOf) {\n    return arr.indexOf(item);\n  }\n\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i] === item) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\nexport const shallowMerge = (a, b) => {\n  for (const key in b) {\n    if (b.hasOwnProperty(key)) {\n      a[key] = b[key];\n    }\n  }\n  return a;\n};\n\n// TODO: change to getElementsByClass\nexport const getElementByClass = (\n  className,\n  tagName = '*',\n  topLevelNode: HTMLElement | Document = document,\n) => {\n  if (typeof document.getElementsByClassName === 'function') {\n    return topLevelNode.getElementsByClassName(className);\n  }\n\n  const results = [];\n  const re = new RegExp('(^| )' + className + '( |$)');\n  const nodes = toArray(topLevelNode.getElementsByTagName(tagName));\n\n  for (const node of nodes) {\n    if (re.test(node.className)) {\n      results.push(node);\n    }\n  }\n\n  return results;\n};\n\nexport const calcAspectRatio = (imageEl, additionalWidth = 0): string => {\n  const size = getNaturalDimensions(imageEl);\n\n  // fallback to landscape aspect ratio if the image does not have proper size\n  return size.height !== 0 || size.width !== 0\n    ? ((size.height / (size.width + additionalWidth)) * 100).toFixed(2)\n    : ((9 / 16) * 100).toFixed(2); // landscape 16:9 aspect ratio, equals to 56.25%\n};\n\nexport const log = (message, logType = 'log') => {\n  if (window.console && typeof window.console[logType] === 'function') {\n    console[logType](message);\n  }\n};\n\nexport const find = (array, test) => {\n  for (const item of array) {\n    const res = test(item);\n    if (res === true) {\n      return item;\n    }\n  }\n};\n\nexport const includes = (array, itemToCheck) => find(array, (item) => item === itemToCheck);\n\nexport const once = (callback) => {\n  let expired = false;\n\n  return (...args) => {\n    if (expired) {\n      return;\n    }\n\n    if (callback) {\n      callback(...args);\n    }\n\n    expired = true;\n  };\n};\n\nexport const spaceOrEnterKeyPressEvent = (callback) => (e) => {\n  // spacebar or enter\n  if (e.keyCode === 32 || e.keyCode === 13) {\n    callback(e);\n  }\n};\n\nexport const escKeyPressEvent = (callback) => (e) => {\n  // esc\n  if (e.keyCode === 27) {\n    callback(e);\n  }\n};\n\nexport const getCurrentScript = () =>\n  // need to check for currentScript because it does not exist in IE\n  document.currentScript\n    ? document.currentScript\n    : find(\n        toArray(document.getElementsByTagName('script')),\n        (script) =>\n          script.src &&\n          (script.src.match('vidyard-embed-code.js') !== null ||\n            script.src.match(/v4(\\.umd)?\\.js/) !== null),\n      );\n\nexport const getNaturalDimensions = (ele) => {\n  if (ele.naturalWidth) {\n    return { width: ele.naturalWidth, height: ele.naturalHeight };\n  }\n\n  const img = new Image();\n  img.src = ele.src;\n  return { width: img.width, height: img.height };\n};\n\nexport const isArray = (arg) => Object.prototype.toString.call(arg) === '[object Array]';\n\nexport const toArray = (htmlCollection) => Array.prototype.slice.call(htmlCollection);\n\nexport const checkJSONParse = (jsonString) =>\n  new Promise((res, rej) => {\n    try {\n      res(JSON.parse(jsonString));\n    } catch (err) {\n      rej(err);\n    }\n  });\n\nexport const xhrRequest = ({ endpoint, payload = {}, method = 'GET' }) =>\n  new Promise((res, rej) => {\n    // IE 8/9 needs to send CORS requests over XDomainRequest\n    const isXDomain = new XMLHttpRequest().withCredentials === undefined && XDomainRequest;\n\n    const xhr = isXDomain ? new XDomainRequest() : new XMLHttpRequest();\n    xhr.open(method, endpoint);\n\n    if (xhr instanceof XMLHttpRequest) {\n      xhr.setRequestHeader('Content-Type', 'text/plain');\n    }\n\n    xhr.onerror = (e) => rej(e);\n    xhr.onload = () => {\n      if (xhr instanceof XMLHttpRequest) {\n        if (Math.floor(xhr.status / 100) === 2) {\n          // 200 range\n          res(xhr.responseText);\n        } else {\n          rej();\n        }\n      } else {\n        // XDomainRequest does not have status\n        res(xhr.responseText);\n      }\n    };\n\n    xhr.send(JSON.stringify(payload));\n  });\n\nexport const getFullscreenAPI = () => {\n  const apiMap = [\n    // Spec: https://dvcs.w3.org/hg/fullscreen/raw-file/tip/Overview.html\n    ['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenchange'],\n    // WebKit\n    [\n      'webkitRequestFullscreen',\n      'webkitExitFullscreen',\n      'webkitFullscreenElement',\n      'webkitfullscreenchange',\n    ],\n    // Mozilla\n    ['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozfullscreenchange'],\n    // Microsoft\n    ['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'MSFullscreenChange'],\n  ];\n\n  let browserAPI = [];\n  const fullscreenAPI = {};\n\n  for (const browserMethods of apiMap) {\n    // check for exitFullscreen function\n    if (browserMethods[1] in document) {\n      browserAPI = browserMethods;\n      break;\n    }\n  }\n\n  // map the browser API names to the spec API names\n  if (browserAPI && browserAPI.length) {\n    for (let i = 0; i < browserAPI.length; i++) {\n      fullscreenAPI[apiMap[0][i]] = browserAPI[i];\n    }\n    return fullscreenAPI;\n  } else {\n    return null;\n  }\n};\n\nexport const dataSet = (el: HTMLElement) => {\n  const collection = {};\n  const parseAttributeName = (attr: Attr) => attr.name.replace('data-', '');\n\n  // can't do for-of here as el.attributes is not an array\n  // tslint:disable-next-line\n  for (let i = 0; i < el.attributes.length; i += 1) {\n    const attr = el.attributes[i];\n\n    if (attr.name.indexOf('data-') < 0) {\n      continue;\n    }\n\n    collection[parseAttributeName(attr)] = attr.value;\n  }\n\n  return collection;\n};\n\nexport const getQueryParam = (name: string): string | undefined => {\n  name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n  const regexString = '[\\\\?&]' + name + '=([^&#]*)';\n  const regex = new RegExp(regexString);\n  const results = regex.exec(window.location.search);\n\n  if (results !== null) {\n    return results[1];\n  }\n};\n\nconst parseNestedData = (encodedData: string, type: string): { [key: string]: string } => {\n  try {\n    const nestedData = JSON.parse(decodeURIComponent(encodedData));\n    return Object.keys(nestedData).reduce((acc, key) => {\n      acc[`${type}[${key}]`] = nestedData[key];\n      return acc;\n    }, {});\n  } catch (e) {\n    log(`Invalid ${type} payload`, 'warn');\n    return {};\n  }\n};\n\nexport const parseVyData = (data: { [key: string]: string }) =>\n  Object.keys(data).reduce((acc, key) => {\n    if (key === 'vydata') {\n      const parsedData = parseNestedData(data[key], 'vydata');\n      Object.keys(parsedData).forEach((parsedKey: string) => {\n        acc[parsedKey] = parsedData[parsedKey];\n      });\n    } else {\n      acc[key] = data[key];\n    }\n    return acc;\n  }, {});\n\n// https://stackoverflow.com/questions/6787383/how-to-add-remove-a-class-in-javascript\nexport const toggleClass = (\n    element: HTMLElement,\n    classToToggle: string,\n    forceBoolean: boolean\n): void => {\n  const hasClass = (ele: HTMLElement, targetClass: string): boolean => {\n    return ele.className.indexOf(targetClass) !== -1;\n  };\n\n  const addClass = (ele: HTMLElement, targetClass: string): void => {\n    if (!hasClass(ele, targetClass)) {\n      ele.className = `${ele.className.trim()} ${targetClass}`;\n    }\n  };\n\n  const removeClass = (ele: HTMLElement, targetClass: string): void => {\n    if (hasClass(ele, targetClass)) {\n      ele.className = ele.className.replace(targetClass, ' ').trim();\n    }\n  };\n\n  if (forceBoolean === true) {\n    addClass(element, classToToggle);\n  } else if (forceBoolean === false) {\n    removeClass(element, classToToggle);\n  } else if (hasClass(element, classToToggle)) {\n    removeClass(element, classToToggle);\n  } else {\n    addClass(element, classToToggle);\n  }\n};\n\n","// _VERSION is the package version string coming from package.json via Webpack\ndeclare const _VERSION: string;\n\nexport const VERSION = _VERSION;\nexport const ERROR_ORIGIN_RE = /vidyard\\.com\\/embed\\/v4/;\nexport const INTEGRATIONS_URL = '/integrations.js';\nexport const OVERLAY_FADE_TIME = 0.5;\nexport const PLAYLIST_WIDTH = 319;\nexport const SEO_DETAILS_URL = '/details.js';\nexport const STYLE_PATH = '/style.js';\n","/* tslint:disable variable-name */\nimport { VERSION } from '../utils/config';\nimport { dataSet, parseVyData, log, getQueryParam } from '../utils/embed-helpers';\n\nclass DataParams {\n  public access_code?: string;\n  public autoplay: number;\n  public custom_id?: string;\n  public disable_popouts = 1;\n  public height?: string;\n  public overlayZindex?: number;\n  public rendered?: 'true';\n  public type: 'inline' | 'lightbox';\n  public uuid: string;\n  public v: string;\n  public vyemail?: string;\n  public vyetoken?: string;\n  public vysfid?: string;\n  public width?: string;\n  public playlist_always_open?: string;\n  public backlink?: number;\n\n  constructor(placeHolderImage: HTMLImageElement) {\n    const data = parseVyData(dataSet(placeHolderImage));\n    Object.keys(data).forEach((key) => {\n      this[key] = data[key];\n    });\n\n    // Default to inline embed\n    if (this.type !== 'inline' && this.type !== 'lightbox') {\n      log('Invalid Vidyard player embed type, defaulting to inline.', 'warn');\n      this.type = 'inline';\n    }\n\n    // Report the embed script version\n    this.v = VERSION;\n    // This embed code no longer supports popout CTAs\n    this.disable_popouts = 1;\n    // Gets the vycustomid query string param, used to identify personalized videos\n    this.custom_id = this.custom_id || getQueryParam('vycustom_id');\n    // Gets the vyemail query string param, which connects views to an email entered\n    this.vyemail = this.vyemail || getQueryParam('vyemail');\n    // Sets a fixed Vidyard Salesforce ID for every view\n    this.vysfid = this.vysfid || getQueryParam('vysfid');\n    // Sets a fixed Vidyard Salesforce ID for every view\n    this.vyetoken = this.vyetoken || getQueryParam('vyetoken');\n\n    // Gets & sets the access code parameter which will bypass having the user enter it manually\n    const vyac = getQueryParam('vyac');\n    const vyplayer = getQueryParam('vyplayer');\n    if (vyac && vyplayer && vyplayer === this.uuid) {\n      this.access_code = vyac;\n    } else if (vyac && vyplayer) {\n      log('Invalid Vidyard player access code.', 'warn');\n    }\n  }\n\n  public toQueryString() {\n    let queryParamsString = '?';\n    let key: string;\n\n    for (key in this) {\n      if (!this.hasOwnProperty(key)) {\n        continue;\n      }\n\n      // don't include these in the query string\n      if (key === 'height' || key === 'uuid' || key === 'width') {\n        continue;\n      }\n\n      // don't include undefined keys\n      if (this[key] === undefined) {\n        continue;\n      }\n\n      // Add '&' here so we don't end up with one trailing\n      queryParamsString += queryParamsString !== '?' ? '&' : '';\n      queryParamsString += encodeURIComponent(key) + '=' + encodeURIComponent(this[key]);\n    }\n\n    // Just return an empty string if no params were found\n    return queryParamsString === '?' ? '' : queryParamsString;\n  }\n}\n\nexport default DataParams;\n","/*\n* Adds link rel prefetch for the iframes\n*/\nimport { getPlaybackURL } from '../utils/config';\nimport * as EmbedHelpers from '../utils/embed-helpers';\nimport DataParams from './data-params';\n\nexport default function preloadFrames(\n  embeds = EmbedHelpers.getElementByClass('vidyard-player-embed', 'img'),\n): void {\n  for (const ele of embeds) {\n    const dataParams = new DataParams(ele);\n    const { uuid } = dataParams;\n    const preloadHref = `https://${getPlaybackURL()}/${uuid}${dataParams.toQueryString()}`;\n\n    if (!uuid) {\n      continue;\n    }\n\n    if (EmbedHelpers.indexOfArray(preloadHref, window.VidyardV4.preloadLinks) === -1) {\n      addPrefetchLink(uuid, preloadHref);\n      window.VidyardV4.preloadLinks.push(preloadHref);\n    }\n  }\n}\n\n// --- Private Functions ---\nfunction addPrefetchLink(uuid: string, href: string): string {\n  const preloadLink = document.createElement('link');\n\n  preloadLink.rel = 'prefetch';\n  preloadLink.crossOrigin = 'anonymous';\n  preloadLink.href = href;\n\n  document.body.appendChild(preloadLink);\n  return href;\n}\n","/*\n* Provides an ie7 compatable way of sending messages to iframes\n* If in a modern browser, will just use postmessage\n*/\n\nimport * as EmbedHelpers from './embed-helpers';\n\n// --- Public Functions ---\n\nexport const send = (message, targetOrigin, target) => {\n  if (!targetOrigin || !target) {\n    return;\n  }\n\n  if (window.postMessage && target.contentWindow) {\n    // The browser supports window.postMessage, so call it with a targetOrigin\n    // set appropriately, based on the target_url parameter.\n    target.contentWindow.postMessage(JSON.stringify(message), targetOrigin);\n  } else {\n    // If the window does not support postmessaging, only 'associateVisitor' events are supported\n    // Internally the player will have specific handling for these cases\n    if (message.event !== 'associateVisitor') {\n      return;\n    }\n\n    const stringMessage = `${message.event},${message.data.type},${message.data.value}|`;\n    let { src: targetSrc } = target;\n\n    if (targetSrc.indexOf('#') === -1) {\n      targetSrc += '#';\n    }\n\n    // The browser does not support window.postMessage, so set the location\n    // of the target to target_url#message. A bit ugly, but it works!\n    targetSrc += stringMessage;\n    target.src = targetSrc;\n  }\n};\n\nexport const receive = (callback) => (postMessage) => {\n  const data = parse(postMessage);\n  if (!data) {\n    return;\n  }\n  callback(data);\n};\n\n// --- Private Functions ---\nfunction parse(event) {\n  if (typeof event.data !== 'string' || event.data === '') {\n    return;\n  }\n\n  try {\n    const data = JSON.parse(event.data);\n    const iframe = EmbedHelpers.getElementByClass(\n      'vidyard-iframe-' + data.uuid,\n      'iframe',\n    )[0];\n\n    // event validation\n    const contentWindow = iframe ? iframe.contentWindow : null;\n    const sameSource = contentWindow === event.source;\n    const validEvent = typeof data.event === 'string';\n\n    if (!sameSource || !validEvent) {\n      return;\n    }\n\n    return data;\n  } catch (e) {\n    EmbedHelpers.log('Invalid postMessage received', 'warn');\n    return;\n  }\n}\n","/*\n* Provides a function which when instantiated polls document.cookie for new cookie\n* values which are then communicated the all player iframes from the same org\n*/\nimport Player from './vidyard-player';\nimport { getPlaybackURL } from '../utils/config';\nimport { indexOfArray, log, addListener } from '../utils/embed-helpers';\nimport { send } from '../utils/frame-messenger';\n\nexport interface TmpOrg {\n  eloqua?: string; // @TODO: verify this type\n  eloquaFirstPartyDomain?: string; // @TODO: verify this type\n  marketo?: string;\n  orgId: number;\n  pardot?: string; // @TODO: verify this type\n}\n\nexport interface Org {\n  foundIntegrations: {};\n  id: number;\n  integrations: TmpOrg;\n  players: Player[];\n}\n\n// @TODO convert IntegrationsWatcher to a class to avoid this duplication\nexport interface IntegrationsWatcherInstance {\n  updatePlayer: (player: Player) => void;\n  safelyCommunicateIntegration: (\n    player: Player,\n    integration: Integrations,\n    externalIdentifier: string,\n  ) => void;\n  addKnownVisitor: (integrationName: Integrations, visitorData: any, org: Org) => void;\n  getCookie: (integration: Integrations, organization?: Org) => string | any;\n}\n\n// convert array type to union of values\ntype Integrations = typeof messageNames[number];\ntype Cookies = typeof cookieNames[number];\n\n// All possible cookie names we would look for, the message names are different from the cookie keys\nconst cookieNames = [\n  'pardot' as 'pardot',\n  'hubspotutk' as 'hubspotutk',\n  '_mkto_trk' as '_mkto_trk',\n  'vy_dreamforce' as 'vy_dreamforce',\n  'eloqua' as 'eloqua',\n];\n\nconst messageNames = [\n  'pardot' as 'pardot',\n  'hubspot' as 'hubspot',\n  'marketo' as 'marketo',\n  'dreamforce' as 'dreamforce',\n  'eloqua' as 'eloqua',\n];\n\nexport default function IntegrationsWatcher() {\n  let cookieCheckInterval = null;\n  let loadedEloquaScript = false;\n  const organizations: { [key: string]: Org } = {};\n\n  // --- Public Functions ---\n  this.updatePlayer = (player: Player): void => {\n    // Don't continue if we don't have an iframe and integration information\n    if (!player._tmpOrg || !player.iframe) {\n      return;\n    }\n\n    const { orgId } = player._tmpOrg;\n\n    if (!organizations[orgId]) {\n      organizations[orgId] = {\n        foundIntegrations: {},\n        id: orgId,\n        // All integrations supported by this organization\n        integrations: player._tmpOrg,\n        // Store of cookie data found keyed by integration name\n        // Each integration has an externalIdentifier set with the tracking cookie/uuid if found\n        // as well as an object with which players have been sent the associateVisitor event\n        // e.g. {integration: {externalIdentifier: 'cookie_value', sentPlayers: ['player1.uuid']}}\n        // In DOM players associated with this organization\n        players: [],\n      };\n    }\n\n    player.org = organizations[orgId];\n\n    // Check if this player has already been added to the organizations list\n    // if so, do nothing\n    for (const currentPlayer of organizations[orgId].players) {\n      if (currentPlayer.iframe === player.iframe) {\n        return;\n      }\n    }\n\n    organizations[orgId].players.push(player);\n\n    const { integrations: { eloqua, eloquaFirstPartyDomain } } = player.org;\n    if (eloqua) { // Only load the eloqua script if the player needs it\n      // Only load the tracking script if the user has given GDPR consent\n      if (player.status !== null && player.status.consent) {\n        // Note: This function only does something the first time it is called\n        loadEloquaTrackingScript(eloqua, eloquaFirstPartyDomain);\n      } else {\n        player.on('status', function handleStatus() {\n          if (player.status.consent) {\n            loadEloquaTrackingScript(eloqua, eloquaFirstPartyDomain);\n            player.off('status', handleStatus);\n          }\n        });\n      }\n    }\n\n    // Loop over all integrations setup with this org & communicate them to the player\n    // making sure to only send the event once per player & integration\n    checkForIntegrations();\n  };\n\n  // Use function chaining to ensure a Player is only messaged about an integration once\n  // It is expected that `updatePlayer` is called on a player before this\n  this.safelyCommunicateIntegration = (\n    player: Player,\n    integration: Integrations,\n    externalIdentifier: string,\n  ): void => {\n    if (\n      player.org !== undefined &&\n      externalIdentifier !== undefined &&\n      externalIdentifier !== null &&\n      !haveSentIntegrationToPlayer(player, integration) &&\n      communicateIntegration(player, integration, externalIdentifier)\n    ) {\n      player.org = setIntegrationSent(player.org, integration, player.uuid);\n    }\n  };\n\n  this.addKnownVisitor = (integrationName: Integrations, visitorData: any, org: Org): void => {\n    if (!org) {\n      return;\n    }\n\n    // Go through and message all active players\n    for (const player of org.players) {\n      communicateKnownVisitor(player, integrationName, visitorData);\n    }\n  };\n\n  // @TODO: switch the return type form any to unknown once we upgrade TS\n  // Loop through all available cookies and return the value for cookieName if found\n  this.getCookie = (integration: Integrations, organization?: Org): string | any => {\n    const cookies = document.cookie.split(';');\n\n    if (integration === 'eloqua' && typeof window.GetElqCustomerGUID === 'function') {\n      // GetElqCustomerGUID is put on the DOM by Eloqua tracking scripts\n      return window.GetElqCustomerGUID();\n    }\n\n    const cookieName = alterDynamicCookieName(\n      cookieNames[messageNames.indexOf(integration)],\n      organization,\n    );\n\n    // Loop through all cookies looking for supplied cookie name\n    for (const currentCookie of cookies) {\n      const equalIndex = currentCookie.indexOf('=');\n      const foundName = currentCookie.substr(0, equalIndex).replace(/^\\s+|\\s+$/g, '');\n      const foundId = currentCookie.substr(equalIndex + 1);\n\n      if (foundName === cookieName) {\n        return decodeURIComponent(foundId);\n      }\n    }\n  };\n\n  // --- Private Functions ---\n  // Return true if the integration cookie event has already been sent to this Player\n  const haveSentIntegrationToPlayer = (player: Player, integration: Integrations): boolean => {\n    return (\n      player.org &&\n      player.org.foundIntegrations &&\n      player.org.foundIntegrations[integration] &&\n      player.org.foundIntegrations[integration].sentPlayers &&\n      indexOfArray(player.uuid, player.org.foundIntegrations[integration].sentPlayers) !== -1\n    );\n  };\n\n  // Initialize object to track integration cookies and\n  // players which have been sent the cookie already\n  const setupFoundIntegration = (org: Org, integration: Integrations): Org => {\n    if (!org.foundIntegrations[integration]) {\n      org.foundIntegrations[integration] = {\n        externalIdentifier: null,\n        sentPlayers: [],\n      };\n    }\n    return org;\n  };\n\n  const setIntegrationSent = (\n    org: Org,\n    integration: Integrations,\n    playerUuid: Player['uuid'],\n  ): Org => {\n    org = setupFoundIntegration(org, integration);\n    org.foundIntegrations[integration].sentPlayers.push(playerUuid);\n    return org;\n  };\n\n  const setIntegrationIdentifier = (\n    org: Org,\n    integration: Integrations,\n    externalIdentifier: string,\n  ): Org => {\n    org = setupFoundIntegration(org, integration);\n    org.foundIntegrations[integration].externalIdentifier = externalIdentifier;\n    return org;\n  };\n\n  // Send event to Player with integration external identifier\n  const communicateIntegration = (\n    player: Player,\n    integration: Integrations,\n    externalIdentifier: string,\n  ): boolean => {\n    if (!player.ready()) {\n      return false;\n    }\n\n    // Player iframe already exists, message it about the integration\n    const message = {\n      data: { type: integration, value: externalIdentifier },\n      event: 'associateVisitor',\n      uuid: player.uuid,\n    };\n\n    log('IntegrationsWatcher.communicateIntegration ' + message, 'debug');\n    send(message, `https://${getPlaybackURL()}`, player.iframe);\n    return true;\n  };\n\n  // Go through and message all active players on DOM which haven't already been sent\n  const messagePlayersFoundIntegration = (\n    players: Player[],\n    integration: Integrations,\n    externalIdentifier: string,\n  ): void => {\n    if (players === undefined || externalIdentifier === undefined || externalIdentifier === null) {\n      return;\n    }\n\n    for (const player of players) {\n      this.safelyCommunicateIntegration(player, integration, externalIdentifier);\n    }\n  };\n\n  const sendKnownVisitor = (player: Player, leadType: Integrations, leadData: any): void => {\n    const message = {\n      data: { type: leadType, value: leadData },\n      event: 'identifyVisitor',\n      uuid: player.uuid,\n    };\n\n    send(message, `https://${getPlaybackURL()}`, player.iframe);\n  };\n\n  const communicateKnownVisitor = (player: Player, leadType: Integrations, leadData: any): void => {\n    if (!player.ready()) {\n      // Setup callback if Player not ready yet\n      player.on('ready', (): void => {\n        sendKnownVisitor(player, leadType, leadData);\n      });\n    } else {\n      // Player iframe already exists, message it about the lead\n      sendKnownVisitor(player, leadType, leadData);\n    }\n  };\n\n  // Find any integration trackers on the page and send to each player that hasn't received yet\n  const checkForIntegrations = (): void => {\n    // Go through all possible integration\n    for (const integration of messageNames) {\n      // Loop through all orgs and see if they care about this integration\n      for (const orgKey in organizations) {\n        if (organizations.hasOwnProperty(orgKey)) {\n          let currentOrganization = organizations[orgKey];\n\n          // Do nothing if the org doesn't have this integration\n          if (!currentOrganization.integrations[integration]) {\n            continue;\n          }\n\n          // Check if integration tracker is present on the page\n          let cookieValue = this.getCookie(integration, currentOrganization);\n\n          if (!cookieValue) {\n            continue;\n          }\n\n          cookieValue = parseCookieValue(integration, cookieValue, currentOrganization);\n          // parseCookieValue can return null if Marketo cookie doesn't match Munchkin ID\n          if (!cookieValue) {\n            continue;\n          }\n\n          currentOrganization = setIntegrationIdentifier(\n            currentOrganization,\n            integration,\n            cookieValue,\n          );\n\n          messagePlayersFoundIntegration(currentOrganization.players, integration, cookieValue);\n        }\n      }\n    }\n  };\n\n  // Pardot uses a dynamic cookie name, set it up here\n  const alterDynamicCookieName = (cookieName: Cookies, organization?: Org): string | Cookies => {\n    if (cookieName === 'pardot' && organization && organization.integrations.pardot) {\n      return 'visitor_id' + organization.integrations.pardot;\n    }\n\n    return cookieName;\n  };\n\n  const parseCookieValue = (\n    msgName: Integrations,\n    cookieValue: string,\n    org: Org,\n  ): null | string => {\n    if (msgName === 'marketo') {\n      // Make sure this cookie is actually for this players organization\n      if (\n        !org.integrations.marketo ||\n        cookieValue.toLowerCase().indexOf(org.integrations.marketo.toLowerCase()) === -1\n      ) {\n        return null;\n      }\n\n      cookieValue = encodeURIComponent(cookieValue);\n    }\n\n    return cookieValue;\n  };\n\n  const loadEloquaTrackingScript = (\n    siteId: TmpOrg['eloqua'],\n    firstPartyDomain: TmpOrg['eloquaFirstPartyDomain'],\n  ): void => {\n    if (loadedEloquaScript) {\n      return;\n    }\n    loadedEloquaScript = true;\n\n    const createEloquaScriptNode = (): void => {\n      // Only set up Eloqua tracking script once (including v3 & hubs)\n      if (document.getElementById('vidyard-eloqua-include')) {\n        return;\n      }\n\n      window._elqQ = window._elqQ || [];\n      window._elqQ.push(['elqSetSiteId', siteId]);\n      if (firstPartyDomain) {\n        window._elqQ.push(['elqUseFirstPartyCookie', firstPartyDomain]);\n      }\n      window._elqQ.push(['elqTrackPageView']);\n      window._elqQ.push(['elqGetCustomerGUID']);\n\n      const eloquaScript = document.createElement('script');\n      eloquaScript.id = 'vidyard-eloqua-include';\n      eloquaScript.type = 'text/javascript';\n      eloquaScript.async = true;\n      eloquaScript.src = 'https://img.en25.com/i/elqCfg.min.js';\n\n      const firstScript = document.getElementsByTagName('script')[0];\n      firstScript.parentNode.insertBefore(eloquaScript, firstScript);\n    };\n\n    if (document.readyState === 'complete') {\n      createEloquaScriptNode();\n    } else {\n      addListener('DOMContentLoaded', 'onload', createEloquaScriptNode);\n    }\n  };\n\n  cookieCheckInterval = setInterval((): void => {\n    // We check for new cookies every second in case the player is on a page with\n    // tracking scripts that will be dynamically adding new cookies at some point\n    checkForIntegrations();\n  }, 1000);\n}\n","import { createEvent, once } from '../utils/embed-helpers';\n\n// Allows the client to listen for the Vidyard API to become available\n// Example:\n// window.VidyardV4\n//   ? initApp(window.VidyardV4)\n//   : (window.onVidyardAPI = (vyApi) => initApp(vyApi));\n//\n// Or with promises:\n// new Promise(res => window.VidyardV4\n//   ? res(window.VidyardV4)\n//   : (window['onVidyardAPI'] = (vyApi) => res(vyApi))\n// ).then((vyApi) => {\n//   console.log('api is ready ', vyApi);\n// });\nconst readyCallback = () => {\n  if (window.onVidyardAPI && typeof window.onVidyardAPI === 'function') {\n    window.onVidyardAPI(window.VidyardV4);\n  }\n};\n\n// We also dispatch a custom event on document indicating that the API is ready\n// Example:\n// window.VidyardV4\n//   ? initApp(window.VidyardV4)\n//   : document.addEventListener('onVidyardAPI', ({ detail: vyApi }) => initApp(vyApi));\nconst readyEvent = () => {\n  document.dispatchEvent(createEvent('onVidyardAPI', window.VidyardV4));\n};\n\nconst dispatchReady = once(() => {\n  readyCallback();\n  readyEvent();\n});\n\nexport default dispatchReady;\n","import Shylog from 'shylog';\nimport { VERSION as version, setPlaybackURL, getPlaybackURL } from '../utils/config';\nimport { getCurrentScript, log } from '../utils/embed-helpers';\n\nexport const logger = new Shylog({\n  emit: !!window.location.search.match('vydebug=1'),\n  logger: (message) => log(message, 'info'),\n});\n\nconst currentScript = getCurrentScript();\nif (currentScript) {\n  logger.info(`vidyardEmbed V${version} loaded from ${currentScript.src}`);\n  logger.info(`data-playbackurl=${currentScript.getAttribute('data-playbackurl')}`);\n}\n\nlogger.info(`userAgent ${window.navigator.userAgent}`);\nlogger.info(`cookies ${navigator.cookieEnabled}`);\n\nif (window.performance && window.performance.timing && window.performance.timing.navigationStart) {\n  logger.info(`Script load time ${Date.now() - window.performance.timing.navigationStart}`);\n}\n\nexport interface Debug {\n  getPlaybackURL: typeof getPlaybackURL,\n  logger: Shylog;\n  setPlaybackURL: typeof setPlaybackURL;\n  version: typeof version;\n}\n\nconst debug: Debug = { logger, getPlaybackURL, setPlaybackURL, version };\n\nexport default debug;\n","/*\n* Injection of the base html / CSS for the player iframe\n* Does not handle showing/hiding lightboxes, see LightboxHelper for that madness\n*/\nimport { getPlaybackURL } from '../utils/config';\nimport DataParams from './data-params';\n\nexport interface SizingMap {\n  maxHeight?: string;\n  maxWidth?: string;\n  ratio: string;\n}\n\nconst allowFeaturePolicy = (): string => {\n  const features = [\n    'autoplay',\n    'fullscreen',\n    'picture-in-picture',\n    'camera',\n    'microphone',\n    'display-capture',\n    'clipboard-write'\n  ];\n\n  return features.join('; ');\n};\n\nexport const createIframe = (dataParams: DataParams, sizing: SizingMap): string => {\n  // We only want to limit the max-height and max-width for inline embeds\n  // Can't apply this directly to the iframe element because it affects fullscreen in IE11\n  const maxSizeDiv = (children: string): string => (\n    dataParams.type === 'inline' ? (\n      '<div ' +\n        'class=\"vidyard-inner-container-' + dataParams.uuid + '\" ' +\n        'style=\"' +\n          'position: absolute;' +\n          'height: 100%; ' +\n          'width: 100%; ' +\n          (sizing.maxWidth ? 'max-width: ' + sizing.maxWidth + 'px; ' : '') +\n          (sizing.maxHeight ? 'max-height: ' + sizing.maxHeight + 'px; ' : '') +\n        '\"' +\n      '> ' +\n        children +\n      '</div> '\n    ) : children\n  );\n\n  return (\n    '<div ' +\n      'class=\"vidyard-div-' + dataParams.uuid + '\" ' +\n      'role=\"region\" ' +\n      'aria-label=\"Vidyard media player\" ' +\n      'style=\"' +\n        // This would change to relative once the iframe is loaded\n        'position: absolute; ' +\n        'padding-bottom: ' + sizing.ratio + '%; ' +\n        'height: 0; ' +\n        'overflow: hidden; ' +\n        'max-width: 100%; ' +\n      '\"' +\n    '>' +\n      maxSizeDiv(\n        '<iframe ' +\n            'allow=\"' + allowFeaturePolicy() + '\"' +\n            'allowfullscreen ' +\n            'allowtransparency=\"true\" '+\n            'referrerpolicy=\"no-referrer-when-downgrade\" ' +\n            'class=\"vidyard-iframe-' + dataParams.uuid + '\" ' +\n            'frameborder=0 '+\n            'height=\"100%\" ' +\n            'width=\"100%\" ' +\n            'scrolling=no ' +\n            'src=\"https://' + getPlaybackURL() + '/' + dataParams.uuid + dataParams.toQueryString() + '\" ' +\n            'title=\"Vidyard video player\" ' +\n            'style=\"' +\n              'opacity: 0; ' +\n              'background-color: transparent; ' +\n              'position: absolute; ' +\n              'top: 0; ' +\n              'left: 0;' +\n            '\"' +\n        '>' +\n        '</iframe>'\n      ) +\n  '</div>'\n  );\n}\n\n// @TODO: better data type\nexport const createJsonLD = (data: any): HTMLScriptElement => {\n  const playerDetailsScriptTag = document.createElement('script');\n  playerDetailsScriptTag.type = 'application/ld+json';\n  playerDetailsScriptTag.text = JSON.stringify(data);\n  return playerDetailsScriptTag;\n};\n","/*\n* Controls showing & hiding of the lightbox\n*/\nimport { getPlaybackURL } from '../utils/config';\nimport * as EmbedHelpers from '../utils/embed-helpers';\nimport * as FrameMessenger from '../utils/frame-messenger';\nimport * as LightboxView from '../views/lightbox';\nimport { logger } from '../api/debug';\nimport VidyardPlayer from './vidyard-player';\nimport DataParams from './data-params';\n\n// --- Private Vars ---\nlet ACTIVE_ELEMENT;\n\n// need to cleanup these after the lightbox is removed\nconst LIGHTBOX_EVENTS: { [key: string]: ReturnType<typeof EmbedHelpers.addListener> } = {};\n\nexport interface Options {\n  container: VidyardPlayer['container'];\n  iframe: string;\n  overlayZindex: DataParams['overlayZindex'];\n  player: VidyardPlayer;\n}\n\nexport function setupAnimations(options: Options): void {\n  const thumbnailContainer = EmbedHelpers.getElementByClass(\n    'vidyard-lightbox-centering',\n    'div',\n    options.container,\n  )[0];\n\n  // expose the show and hide functions to the player API\n  options.player.showLightbox = function showLightboxHandler(): void {\n    logger.setLevel(options.player.uuid)('show lightbox');\n    showLightbox({\n      container: options.container,\n      iframe: options.iframe,\n      overlayZindex: options.overlayZindex,\n      player: options.player,\n    });\n  };\n  options.player.hideLightbox = () => removeLightbox(options.player);\n\n  // event listeners on the thumbnail\n  EmbedHelpers.addListener('click', 'onclick', options.player.showLightbox, thumbnailContainer);\n\n  EmbedHelpers.addListener(\n    'keydown',\n    'onkeydown',\n    EmbedHelpers.spaceOrEnterKeyPressEvent((e: Event): void => {\n      e.preventDefault();\n      options.player.showLightbox(e);\n    }),\n    thumbnailContainer,\n  );\n}\n\n// --- Private Functions ---\nfunction showLightbox(options: Options): void {\n  // The lightbox cannot be shown if no iframe HTML was provided\n  // or if there is already a lightbox showing\n  if (!options.iframe || document.getElementById('vidyard-overlay')) {\n    return;\n  }\n\n  ACTIVE_ELEMENT = document.activeElement;\n  const lightboxDOM = LightboxView.show(options.iframe, options.container, options.overlayZindex);\n\n  // Set the vidyardPlayers iframe to the newly injected one\n  options.player.iframe = lightboxDOM.container.iframe;\n\n  // update iframe title to video title once player metadata ready\n  options.player.on('metadata', function updateLightboxIframeTitle(args: any[]) {\n    const metadata = args[0];\n    options.player.iframe.title = metadata.name;\n    options.player.off('metadata', updateLightboxIframeTitle);\n  });\n\n  // callback to run when the iframe has loaded, only once\n  const { uuid } = options.player;\n  const { iframe } = lightboxDOM.container;\n  const iframeLoaded = onIframeLoad(iframe, uuid, options.player);\n  const listenForKeyPress = iframeListenForKeyPress(iframe, uuid);\n\n  // iframe load listener\n  LIGHTBOX_EVENTS.iframeLoaded = EmbedHelpers.addListener(\n    'load',\n    'onload',\n    iframeLoaded,\n    lightboxDOM.container.iframe,\n  );\n  // postMessage receipt from the player listener\n  LIGHTBOX_EVENTS.messageHandler = EmbedHelpers.addListener(\n    'message',\n    'onmessage',\n    // @TODO add better types for data\n    FrameMessenger.receive((data: any): void => {\n      iframeLoaded();\n      listenForKeyPress();\n      onEscInIframe(data, options.player);\n    }),\n    window,\n  );\n  // click on lightbox overlay listener\n  LIGHTBOX_EVENTS.overlayClick = EmbedHelpers.addListener(\n    'click',\n    'onclick',\n    () => removeLightbox(options.player),\n    lightboxDOM.lightbox.overlayWrapper,\n  );\n  // click on lightbox fixed content wrapper listener\n  LIGHTBOX_EVENTS.fixedClick = EmbedHelpers.addListener(\n    'click',\n    'onclick',\n    () => removeLightbox(options.player),\n    lightboxDOM.lightbox.contentFixed,\n  );\n  // space or enter on the X button listener\n  LIGHTBOX_EVENTS.closeKeyPress = EmbedHelpers.addListener(\n    'keydown',\n    'onkeydown',\n    EmbedHelpers.spaceOrEnterKeyPressEvent(() => removeLightbox(options.player)),\n    lightboxDOM.lightbox.closeContainer,\n  );\n  LIGHTBOX_EVENTS.responsivePlayerSize = EmbedHelpers.addListener(\n    'resize',\n    'onresize',\n    handleResize,\n    window,\n  );\n}\n\nfunction handleResize(): void {\n  const constraintImage = document.getElementById('vidyard-popbox-constraint');\n  const windowRatio = parseFloat(((window.innerHeight / window.innerWidth) * 100).toFixed(2));\n  const imageRatio = parseFloat(EmbedHelpers.calcAspectRatio(constraintImage));\n  const orientation = windowRatio < imageRatio ? 'landscape' : 'portrait';\n\n  if (constraintImage.className !== orientation) {\n    constraintImage.className = orientation;\n  }\n}\n\nfunction removeLightbox(player?: VidyardPlayer): void {\n  LightboxView.remove();\n\n  if (ACTIVE_ELEMENT) {\n    ACTIVE_ELEMENT.focus();\n  }\n\n  Object.keys(LIGHTBOX_EVENTS).forEach((key) => {\n    const { eventName, handler, element } = LIGHTBOX_EVENTS[key];\n    EmbedHelpers.removeListener(eventName, handler, element);\n  });\n\n  // Trigger all registered lightboxClose callbacks\n  if (player) {\n    player.trigger('lightboxClose');\n  }\n}\n\n// @TODO: add better type for postMessageData\nfunction onEscInIframe(postMessageData: any, player: VidyardPlayer): void {\n  // if esc was pressed in the iframe\n  if (postMessageData.event === 'keyPressed' && postMessageData.params === 27) {\n    removeLightbox(player);\n  }\n}\n\nfunction onIframeLoad(iframe: HTMLIFrameElement, uuid: string, player: VidyardPlayer): () => void {\n  return EmbedHelpers.once((): void => {\n    LightboxView.makeIframeVisible(iframe);\n\n    handleResize();\n\n    // start listening for esc key presses in parent\n    LIGHTBOX_EVENTS.parentEsc = EmbedHelpers.addListener(\n      'keydown',\n      'onkeydown',\n      EmbedHelpers.escKeyPressEvent(() => removeLightbox(player)),\n      document,\n    );\n  });\n}\n\n// Send message to start listening for esc key presses in iframe\nfunction iframeListenForKeyPress(iframe, uuid) {\n  return EmbedHelpers.once((): void => {\n    const message = { uuid, event: 'listenForKeyPress', keyCode: '27' };\n    FrameMessenger.send(message, `https://${getPlaybackURL()}`, iframe);\n  });\n}\n","/*\n* Provides functions which perform JSONP requests to the server.\n* All URLs etc are stored within this file.\n*/\n\nimport Promise from './promise';\nimport { getBaseURL, getPlaybackURL, INTEGRATIONS_URL, SEO_DETAILS_URL, STYLE_PATH } from './config';\nimport { log, once } from './embed-helpers';\n\nexport const getStyle = (uuid) =>\n  new Promise((res, rej) =>\n    request({\n      error: rej,\n      success: res,\n      url: `${getBaseURL()}${uuid}${STYLE_PATH}`,\n      uuid: `style_${uuid}`,\n    }),\n  );\n\nexport const getIntegrations = (uuid) =>\n  new Promise((res, rej) =>\n    request({\n      error: rej,\n      success: res,\n      url: `${getBaseURL()}${uuid}${INTEGRATIONS_URL}`,\n      uuid: `integrations_${uuid}`,\n    }),\n  );\n\nexport const getSEO = (uuid) =>\n  new Promise((res, rej) =>\n    request({\n      error: rej,\n      success: res,\n      url: `${getBaseURL()}${uuid}${SEO_DETAILS_URL}`,\n      uuid: `details_${uuid}`,\n    }),\n  );\n\nexport const getMarketoLead = (uuid, marketoCookie) =>\n  new Promise((res, rej) => {\n    const cookie = encodeURIComponent(marketoCookie);\n    const contactUrl = `${getBaseURL()}${uuid}/contact/${cookie}/marketoContact.js`;\n    request({\n      error: rej,\n      success: res,\n      url: contactUrl,\n      uuid: `marketoContact_${uuid}`,\n    });\n  });\n\n\nconst createJSONPTag = ({ error, url, requestUuid }) => {\n  const script = document.createElement('script');\n  script.type = 'application/javascript';\n  script.onerror = error;\n  script.src = `${url}?callback=window.VidyardV4.jsonp.${requestUuid}.done`;\n  // Anticipating a potential error when getPlaybackURL() is called when the JSONP script is current:\n  // Setting data-playbackurl here makes it safe to use getPlaybackURL during all stages of load.\n  script.setAttribute('data-playbackurl', getPlaybackURL());\n  document.body.appendChild(script);\n  return script;\n};\n\n// track all jsonp requests\nconst jsonpRequests = {};\n\nconst request = ({ url, uuid, success, error }) => {\n  // Function names can't include \"-\" because it's interpreted as a subtract operator\n  // Strip them out here and in the player backend to prevent errors\n  const requestUuid = uuid.replace(/-/g, '');\n  const script = createJSONPTag({ error, url, requestUuid });\n\n  // each response callback will only be called once\n  const onRes = once((data) => {\n    success(data);\n    script.parentNode.removeChild(script);\n  });\n\n  // store all jsonp requests in a closure\n  jsonpRequests[requestUuid] = jsonpRequests[requestUuid] || [];\n  jsonpRequests[requestUuid].push(onRes);\n\n  window.VidyardV4.jsonp[requestUuid] = {\n    done: (data) => {\n      // call data on all response callbacks that share the same request_uuid\n      jsonpRequests[requestUuid].forEach((cb) => cb(data));\n    },\n  };\n};\n","export default {\n  errors: {\n    placeholder: 'Cannot render the player, check the placeholder Image',\n  }\n}\n","import { getPlaybackURL } from '../utils/config';\nimport { getNaturalDimensions, log } from '../utils/embed-helpers';\nimport messages from '../utils/messages';\nimport Promise from '../utils/promise';\nimport { logger } from '../api/debug';\n\nexport const loadPlaceholder = (\n  img: HTMLImageElement,\n): Promise<HTMLImageElement | Error> => {\n  if (!img) {\n    return Promise.reject(new Error(messages.errors.placeholder));\n  }\n\n  const { width, height } = getNaturalDimensions(img);\n  const uuid = img.getAttribute('data-uuid');\n\n  // reject images without source or uuid\n  if (img.src === '' || !uuid) {\n    return Promise.reject(new Error(messages.errors.placeholder));\n  }\n\n  // reject images that are loaded and have no size\n  if (img.complete && (width === 0 || height === 0)) {\n    return Promise.reject(new Error(messages.errors.placeholder));\n  }\n\n  if (img.complete) {\n    // image is already loaded\n    return Promise.resolve(img);\n  } else {\n    // load the image\n    return new Promise((res, rej) => {\n      img.onload = () => res(img);\n      img.onerror = () => rej(img);\n    });\n  }\n};\n\nexport interface RenderOptions {\n  uuid?: string;\n  container?: HTMLElement;\n  type?: string;\n  aspect?: string | number;\n  width?: string;\n  height?: string;\n}\n\nexport const createPlaceholder = ({\n  uuid,\n  container,\n  type = 'inline',\n  aspect = 'landscape',\n  ...other\n}: RenderOptions = {}) => {\n  if (!uuid || !container) {\n    return;\n  }\n  logger.setLevel('placeholder')('creating placeholder image');\n  const image = document.createElement('img');\n  const width = other.width ? `${other.width}px` : '100%';\n  const height = other.height ? `${other.height}px` : '100%';\n  const style = `\n    display: block;\n    margin: 0 auto;\n    max-height: ${height};\n    max-width: ${width};\n    opacity: 0;\n  `;\n  image.src = `https://${getPlaybackURL()}/${uuid}.jpg`;\n  image.className = 'vidyard-player-embed';\n  image.setAttribute('style', style);\n  image.setAttribute('data-uuid', uuid);\n  image.setAttribute('data-type', type);\n\n  // assign all of the other keys as data params on the image\n  Object.keys(other).forEach((k) => image.setAttribute(`data-${k}`, other[k]));\n\n  return container.appendChild(image);\n};\n\nexport const loadServerThumbnail = (uuid): Promise<HTMLImageElement | Error> => {\n  const image = document.createElement('img');\n  image.setAttribute('data-uuid', uuid);\n  image.src = `//${getPlaybackURL()}/${uuid}.jpg`;\n  return loadPlaceholder(image);\n};\n","import Promise from '../utils/promise';\nimport { logger } from '../api/debug';\nimport { calcAspectRatio, addListener, toggleClass } from '../utils/embed-helpers';\nimport { createIframe, SizingMap } from '../models/markup-injector';\nimport { getStyle } from '../utils/jsonp';\nimport { getPlaybackURL, PLAYLIST_WIDTH } from '../utils/config';\nimport DataParams from '../models/data-params';\nimport VidyardPlayer from '../models/vidyard-player';\nimport { loadServerThumbnail } from '../models/placeholder';\n\ninterface InjectInlineElementsArgs {\n  dataParams: DataParams;\n  player: VidyardPlayer;\n}\n\nconst injectInlineElements = ({ dataParams, player }: InjectInlineElementsArgs): void => {\n  const log = logger.setLevel(dataParams.uuid);\n  log(`injecting inline embed`);\n\n  const updateAspectRatio = (): Promise<string | boolean> => {\n    // Get thumbnail from server and calculate aspect ratio if the placeholder is different (edge case)\n    if (player.placeholder.src !== `//${getPlaybackURL()}/${player.uuid}.jpg`) {\n      return loadServerThumbnail(player.uuid)\n        .then(calcAspectRatio)\n        .catch(() => false);\n    }\n    return Promise.resolve(false);\n  };\n\n  const sizing: SizingMap = {\n    maxHeight: dataParams.height ? parseInt(dataParams.height, 10).toString() : null,\n    maxWidth: dataParams.width ? parseInt(dataParams.width, 10).toString() : null,\n    ratio: calcAspectRatio(player.placeholder),\n  };\n\n  // Create and attach the players iframe & containing <div>\n  player.container.innerHTML = createIframe(dataParams, sizing);\n\n  const iframe: HTMLIFrameElement = player.container.getElementsByTagName('iframe')[0];\n  player.iframe = iframe;\n\n  const iframeLoadedPromise: Promise<null> = new Promise(\n    (res): void => {\n      addListener('load', 'onload', res, iframe);\n    },\n  );\n\n  const playerReadyPromise: Promise<null> = new Promise(\n    (res): void => {\n      player.on('ready', res);\n    },\n  );\n\n  player.on(\n    'sidePlaylistOpen',\n    (): void => {\n      handleResize();\n    },\n  );\n\n  // The iframe will finish first, usually.\n  Promise.race([iframeLoadedPromise, playerReadyPromise]).then(\n    (): void => {\n      log(`player or iFrame is ready`);\n      // If the placeholder image is different than the server thumbnail, update the aspect ratio\n      // to be consistent with the server thumbnail (edge case)\n      updateAspectRatio().then((newAspectRatio) => {\n        if (newAspectRatio) {\n          iframe.parentElement.parentElement.style.paddingBottom = `${newAspectRatio}%`;\n        }\n      });\n\n      const innerContainer = player.container.getElementsByClassName(`vidyard-inner-container-${player.uuid}`)[0];\n\n      // Copy the place holder image to the iframe's parent element\n      player.placeholder.parentElement.removeChild(player.placeholder);\n      toggleClass(player.placeholder, 'inserted', true);\n      innerContainer.appendChild(player.placeholder);\n      // This inserts the iframe into the document flow\n      iframe.parentElement.parentElement.style.position = 'relative';\n      // Be sure that the iframe is fully visible\n      iframe.style.opacity = '1';\n    },\n  );\n\n  iframeLoadedPromise.then(() => {\n    // Hide the placeholder image only after the iframe has loaded\n    player.placeholder.style.display = 'none';\n    iframe.parentElement.parentElement.style.backgroundColor = 'transparent';\n  });\n\n  // Set the iframe title to match the video title after player metadata is ready\n  player.on('metadata', function updateInlineIframeTitle(args: any[]) {\n    const metadata = args[0];\n    iframe.title = metadata.name;\n    player.off('metadata', updateInlineIframeTitle);\n  });\n\n  function handleResize(): void {\n    // The breakpoint is the side playlist width, doubled. If the available space is less, we need to hide the side playlist.\n    const aboveBreakpoint: boolean = player.container.clientWidth >= PLAYLIST_WIDTH * 2;\n    toggleClass(player.container, 'playlist-open', aboveBreakpoint);\n  }\n\n  log(`getStyle sent`);\n  getStyle(player.uuid).then(\n    // pl is the \"playlist always open\" setting from the Dashboard.\n    (data: { pl: number }): void => {\n      log(`getStyle received: ${JSON.stringify(data)}`);\n      const playlistAlwaysOpen: boolean =\n        (data.pl === 1 && dataParams.playlist_always_open !== '0') ||\n        dataParams.playlist_always_open === '1';\n      if (playlistAlwaysOpen) {\n        player.iframe.parentElement.setAttribute('data-pl', 'true');\n        addListener('resize', 'onresize', handleResize);\n        handleResize();\n      } else {\n        player.iframe.parentElement.setAttribute('data-pl', 'false');\n      }\n    },\n  ).catch(e => {\n      log('getStyle failed, likely a network error');\n  });\n};\n\nexport default injectInlineElements;\n","/*\n* The following helpers are needed for an iOS modal accessibility workaround\n* https://www.tpgi.com/the-current-state-of-modal-dialog-accessibility/\n*/\n\n/*\n* Apply aria-hidden=\"true\" for all children of element, and if necessary\n* storing the current aria-hidden value as data-vy-keep-hidden\n*/\nexport const ariaHideChildElements = (\n  element: HTMLElement = document.body,\n) => {\n  for (const el of Array.from(element.children)) {\n    if (el.hasAttribute('aria-hidden')) {\n      el.setAttribute('data-vy-keep-hidden', el.getAttribute('aria-hidden'));\n    }\n\n    el.setAttribute('aria-hidden', 'true');\n  }\n};\n\n/*\n* Restore the previous aria-hidden value for all children of element\n* data-vy-keep-hidden indicates the previous value was \"true\"\n*/\nexport const undoAriaHideChildElements = (\n  element: HTMLElement = document.body,\n) => {\n  for (const el of Array.from(element.children)) {\n    if (el.getAttribute('data-vy-keep-hidden')) {\n      el.setAttribute('aria-hidden', el.getAttribute('data-vy-keep-hidden'));\n    } else {\n      el.removeAttribute('aria-hidden');\n    }\n\n    el.removeAttribute('data-vy-keep-hidden');\n  }\n};\n","export default {\n  ios: (): boolean => {\n    return /ipad|iphone|ipod/i.test(navigator.userAgent);\n  },\n};\n","export var toArray = function toArray(a) {\n  var ret = Array(a.length);\n  for (var i = 0; i < a.length; ++i) {\n    ret[i] = a[i];\n  }\n  return ret;\n};\n\nexport var arrayFind = function arrayFind(array, search) {\n  return array.filter(function (a) {\n    return a === search;\n  })[0];\n};\n\nexport var asArray = function asArray(a) {\n  return Array.isArray(a) ? a : [a];\n};","import { toArray } from './utils/array';\nimport { FOCUS_ALLOW } from './constants';\n\nvar focusIsHidden = function focusIsHidden() {\n  return document && toArray(document.querySelectorAll('[' + FOCUS_ALLOW + ']')).some(function (node) {\n    return node.contains(document.activeElement);\n  });\n};\n\nexport default focusIsHidden;","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nimport { FOCUS_DISABLED, FOCUS_GROUP } from '../constants';\nimport { asArray, toArray } from './array';\n\nvar filterNested = function filterNested(nodes) {\n  var l = nodes.length;\n  for (var i = 0; i < l; i += 1) {\n    var _loop = function _loop(j) {\n      if (i !== j) {\n        if (nodes[i].contains(nodes[j])) {\n          return {\n            v: filterNested(nodes.filter(function (x) {\n              return x !== nodes[j];\n            }))\n          };\n        }\n      }\n    };\n\n    for (var j = 0; j < l; j += 1) {\n      var _ret = _loop(j);\n\n      if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    }\n  }\n  return nodes;\n};\n\nvar getTopParent = function getTopParent(node) {\n  return node.parentNode ? getTopParent(node.parentNode) : node;\n};\n\nvar getAllAffectedNodes = function getAllAffectedNodes(node) {\n  var nodes = asArray(node);\n  return nodes.filter(Boolean).reduce(function (acc, currentNode) {\n    var group = currentNode.getAttribute(FOCUS_GROUP);\n    acc.push.apply(acc, group ? filterNested(toArray(getTopParent(currentNode).querySelectorAll('[' + FOCUS_GROUP + '=\"' + group + '\"]:not([' + FOCUS_DISABLED + '=\"disabled\"])'))) : [currentNode]);\n    return acc;\n  }, []);\n};\n\nexport default getAllAffectedNodes;","export var FOCUS_GROUP = 'data-focus-lock';\nexport var FOCUS_DISABLED = 'data-focus-lock-disabled';\nexport var FOCUS_ALLOW = 'data-no-focus-lock';\nexport var FOCUS_AUTO = 'data-autofocus-inside';","import getAllAffectedNodes from './utils/all-affected';\nimport { arrayFind, toArray } from './utils/array';\n\nvar focusInFrame = function focusInFrame(frame) {\n  return frame === document.activeElement;\n};\n\nvar focusInsideIframe = function focusInsideIframe(topNode) {\n  return !!arrayFind(toArray(topNode.querySelectorAll('iframe')), focusInFrame);\n};\n\nvar focusInside = function focusInside(topNode) {\n  var activeElement = document && document.activeElement;\n\n  if (!activeElement || activeElement.dataset && activeElement.dataset.focusGuard) {\n    return false;\n  }\n  return getAllAffectedNodes(topNode).reduce(function (result, node) {\n    return result || node.contains(activeElement) || focusInsideIframe(node);\n  }, false);\n};\n\nexport default focusInside;","import { toArray } from './array';\n\nexport var tabSort = function tabSort(a, b) {\n  var tabDiff = a.tabIndex - b.tabIndex;\n  var indexDiff = a.index - b.index;\n\n  if (tabDiff) {\n    if (!a.tabIndex) return 1;\n    if (!b.tabIndex) return -1;\n  }\n\n  return tabDiff || indexDiff;\n};\n\nexport var orderByTabIndex = function orderByTabIndex(nodes, filterNegative, keepGuards) {\n  return toArray(nodes).map(function (node, index) {\n    return {\n      node: node,\n      index: index,\n      tabIndex: keepGuards && node.tabIndex === -1 ? (node.dataset || {}).focusGuard ? 0 : -1 : node.tabIndex\n    };\n  }).filter(function (data) {\n    return !filterNegative || data.tabIndex >= 0;\n  }).sort(tabSort);\n};","export default ['button:enabled:not([readonly])', 'select:enabled:not([readonly])', 'textarea:enabled:not([readonly])', 'input:enabled:not([readonly])', 'a[href]', 'area[href]', 'iframe', 'object', 'embed', '[tabindex]', '[contenteditable]', '[autofocus]'];","import tabbables from './tabbables';\nimport { toArray } from './array';\nimport { FOCUS_AUTO } from '../constants';\n\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = queryTabbables + ', [data-focus-guard]';\n\nexport var getFocusables = function getFocusables(parents, withGuards) {\n  return parents.reduce(function (acc, parent) {\n    return acc.concat(\n    // add all tabbables inside\n    toArray(parent.querySelectorAll(withGuards ? queryGuardTabbables : queryTabbables)),\n    // add if node is tabble itself\n    parent.parentNode ? toArray(parent.parentNode.querySelectorAll(tabbables.join(','))).filter(function (node) {\n      return node === parent;\n    }) : []);\n  }, []);\n};\n\nexport var getParentAutofocusables = function getParentAutofocusables(parent) {\n  var parentFocus = parent.querySelectorAll('[' + FOCUS_AUTO + ']');\n  return toArray(parentFocus).map(function (node) {\n    return getFocusables([node]);\n  }).reduce(function (acc, nodes) {\n    return acc.concat(nodes);\n  }, []);\n};","import { orderByTabIndex } from './tabOrder';\nimport { getFocusables, getParentAutofocusables } from './tabUtils';\nimport { toArray } from './array';\n\nvar isElementHidden = function isElementHidden(computedStyle) {\n  if (!computedStyle || !computedStyle.getPropertyValue) {\n    return false;\n  }\n  return computedStyle.getPropertyValue('display') === 'none' || computedStyle.getPropertyValue('visibility') === 'hidden';\n};\n\nexport var isVisible = function isVisible(node) {\n  return !node || node === document || node.nodeType === Node.DOCUMENT_NODE || !isElementHidden(window.getComputedStyle(node, null)) && isVisible(node.parentNode);\n};\n\nexport var notHiddenInput = function notHiddenInput(node) {\n  return !((node.tagName === 'INPUT' || node.tagName === 'BUTTON') && (node.type === 'hidden' || node.disabled));\n};\n\nvar getParents = function getParents(node) {\n  var parents = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  parents.push(node);\n  if (node.parentNode) {\n    getParents(node.parentNode, parents);\n  }\n  return parents;\n};\n\nexport var getCommonParent = function getCommonParent(nodea, nodeb) {\n  var parentsA = getParents(nodea);\n  var parentsB = getParents(nodeb);\n\n  for (var i = 0; i < parentsA.length; i += 1) {\n    var currentParent = parentsA[i];\n    if (parentsB.indexOf(currentParent) >= 0) {\n      return currentParent;\n    }\n  }\n  return false;\n};\n\nexport var filterFocusable = function filterFocusable(nodes) {\n  return toArray(nodes).filter(function (node) {\n    return isVisible(node);\n  }).filter(function (node) {\n    return notHiddenInput(node);\n  });\n};\n\nexport var getTabbableNodes = function getTabbableNodes(topNodes, withGuards) {\n  return orderByTabIndex(filterFocusable(getFocusables(topNodes, withGuards)), true, withGuards);\n};\n\nexport var getAllTabbableNodes = function getAllTabbableNodes(topNodes) {\n  return orderByTabIndex(filterFocusable(getFocusables(topNodes)), false);\n};\n\nexport var parentAutofocusables = function parentAutofocusables(topNode) {\n  return filterFocusable(getParentAutofocusables(topNode));\n};","var isRadio = function isRadio(node) {\n  return node.tagName === 'INPUT' && node.type === 'radio';\n};\n\nvar findSelectedRadio = function findSelectedRadio(node, nodes) {\n  return nodes.filter(isRadio).filter(function (el) {\n    return el.name === node.name;\n  }).filter(function (el) {\n    return el.checked;\n  })[0] || node;\n};\n\nvar pickFirstFocus = function pickFirstFocus(nodes) {\n  if (nodes[0] && nodes.length > 1) {\n    if (isRadio(nodes[0]) && nodes[0].name) {\n      return findSelectedRadio(nodes[0], nodes);\n    }\n  }\n  return nodes[0];\n};\n\nexport var pickFocusable = function pickFocusable(nodes, index) {\n  if (nodes.length > 1) {\n    if (isRadio(nodes[index]) && nodes[index].name) {\n      return nodes.indexOf(findSelectedRadio(nodes[index], nodes));\n    }\n  }\n  return index;\n};\n\nexport default pickFirstFocus;","import { getCommonParent, getTabbableNodes, getAllTabbableNodes, parentAutofocusables } from './utils/DOMutils';\nimport pickFirstFocus, { pickFocusable } from './utils/firstFocus';\nimport getAllAffectedNodes from './utils/all-affected';\nimport { asArray } from './utils/array';\n\nvar findAutoFocused = function findAutoFocused(autoFocusables) {\n  return function (node) {\n    return !!node.autofocus || node.dataset && !!node.dataset.autofocus || autoFocusables.indexOf(node) >= 0;\n  };\n};\n\nvar isGuard = function isGuard(node) {\n  return node && node.dataset && node.dataset.focusGuard;\n};\nvar notAGuard = function notAGuard(node) {\n  return !isGuard(node);\n};\n\nexport var newFocus = function newFocus(innerNodes, outerNodes, activeElement, lastNode, autoFocused) {\n  var cnt = innerNodes.length;\n  var firstFocus = innerNodes[0];\n  var lastFocus = innerNodes[cnt - 1];\n  var isOnGuard = isGuard(activeElement);\n\n  // focus is inside\n  if (innerNodes.indexOf(activeElement) >= 0) {\n    return undefined;\n  }\n\n  var activeIndex = outerNodes.indexOf(activeElement);\n  var lastIndex = outerNodes.indexOf(lastNode || activeIndex);\n  var lastNodeInside = innerNodes.indexOf(lastNode);\n  var indexDiff = activeIndex - lastIndex;\n  var firstNodeIndex = outerNodes.indexOf(firstFocus);\n  var lastNodeIndex = outerNodes.indexOf(lastFocus);\n\n  var returnFirstNode = pickFocusable(innerNodes, 0);\n  var returnLastNode = pickFocusable(innerNodes, cnt - 1);\n\n  // new focus\n  if (activeIndex === -1 || lastNodeInside === -1) {\n    return innerNodes.indexOf(autoFocused && autoFocused.length ? pickFirstFocus(autoFocused) : pickFirstFocus(innerNodes));\n  }\n  // old focus\n  if (!indexDiff && lastNodeInside >= 0) {\n    return lastNodeInside;\n  }\n  // first element\n  if (activeIndex <= firstNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n    return returnLastNode;\n  }\n  // last element\n  if (activeIndex >= firstNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n    return returnFirstNode;\n  }\n  // jump out, but not on the guard\n  if (indexDiff && Math.abs(indexDiff) > 1) {\n    return lastNodeInside;\n  }\n  // focus above lock\n  if (activeIndex <= firstNodeIndex) {\n    return returnLastNode;\n  }\n  // focus below lock\n  if (activeIndex > lastNodeIndex) {\n    return returnFirstNode;\n  }\n  // index is inside tab order, but outside Lock\n  if (indexDiff) {\n    if (Math.abs(indexDiff) > 1) {\n      return lastNodeInside;\n    }\n    return (cnt + lastNodeInside + indexDiff) % cnt;\n  }\n  // do nothing\n  return undefined;\n};\n\nvar getTopCommonParent = function getTopCommonParent(baseActiveElement, leftEntry, rightEntries) {\n  var activeElements = asArray(baseActiveElement);\n  var leftEntries = asArray(leftEntry);\n  var activeElement = activeElements[0];\n  var topCommon = null;\n  leftEntries.filter(Boolean).forEach(function (entry) {\n    topCommon = getCommonParent(topCommon || entry, entry) || topCommon;\n    rightEntries.filter(Boolean).forEach(function (subEntry) {\n      var common = getCommonParent(activeElement, subEntry);\n      if (common) {\n        if (!topCommon || common.contains(topCommon)) {\n          topCommon = common;\n        } else {\n          topCommon = getCommonParent(common, topCommon);\n        }\n      }\n    });\n  });\n  return topCommon;\n};\n\nvar allParentAutofocusables = function allParentAutofocusables(entries) {\n  return entries.reduce(function (acc, node) {\n    return acc.concat(parentAutofocusables(node));\n  }, []);\n};\n\nvar reorderNodes = function reorderNodes(srcNodes, dstNodes) {\n  var remap = new Map();\n  // no Set(dstNodes) for IE11 :(\n  dstNodes.forEach(function (entity) {\n    return remap.set(entity.node, entity);\n  });\n  // remap to dstNodes\n  return srcNodes.map(function (node) {\n    return remap.get(node);\n  }).filter(Boolean);\n};\n\nexport var getFocusabledIn = function getFocusabledIn(topNode) {\n  var entries = getAllAffectedNodes(topNode).filter(notAGuard);\n  var commonParent = getTopCommonParent(topNode, topNode, entries);\n  var outerNodes = getTabbableNodes([commonParent], true);\n  var innerElements = getTabbableNodes(entries).filter(function (_ref) {\n    var node = _ref.node;\n    return notAGuard(node);\n  }).map(function (_ref2) {\n    var node = _ref2.node;\n    return node;\n  });\n\n  return outerNodes.map(function (_ref3) {\n    var node = _ref3.node,\n        index = _ref3.index;\n    return {\n      node: node,\n      index: index,\n      lockItem: innerElements.indexOf(node) >= 0,\n      guard: isGuard(node)\n    };\n  });\n};\n\nvar getFocusMerge = function getFocusMerge(topNode, lastNode) {\n  var activeElement = document && document.activeElement;\n  var entries = getAllAffectedNodes(topNode).filter(notAGuard);\n\n  var commonParent = getTopCommonParent(activeElement || topNode, topNode, entries);\n\n  var innerElements = getTabbableNodes(entries).filter(function (_ref4) {\n    var node = _ref4.node;\n    return notAGuard(node);\n  });\n\n  if (!innerElements[0]) {\n    innerElements = getAllTabbableNodes(entries).filter(function (_ref5) {\n      var node = _ref5.node;\n      return notAGuard(node);\n    });\n    if (!innerElements[0]) {\n      return undefined;\n    }\n  }\n\n  var outerNodes = getTabbableNodes([commonParent]).map(function (_ref6) {\n    var node = _ref6.node;\n    return node;\n  });\n  var orderedInnerElements = reorderNodes(outerNodes, innerElements);\n  var innerNodes = orderedInnerElements.map(function (_ref7) {\n    var node = _ref7.node;\n    return node;\n  });\n\n  var newId = newFocus(innerNodes, outerNodes, activeElement, lastNode, innerNodes.filter(findAutoFocused(allParentAutofocusables(entries))));\n\n  if (newId === undefined) {\n    return newId;\n  }\n  return orderedInnerElements[newId];\n};\n\nexport default getFocusMerge;","import getFocusMerge from './focusMerge';\n\nexport var focusOn = function focusOn(target) {\n  target.focus();\n  if (target.contentWindow) {\n    target.contentWindow.focus();\n  }\n};\n\nvar guardCount = 0;\nvar lockDisabled = false;\n\nexport default (function (topNode, lastNode) {\n  var focusable = getFocusMerge(topNode, lastNode);\n\n  if (lockDisabled) {\n    return;\n  }\n\n  if (focusable) {\n    if (guardCount > 2) {\n      // eslint-disable-next-line no-console\n      console.error('FocusLock: focus-fighting detected. Only one focus management system could be active. ' + 'See https://github.com/theKashey/focus-lock/#focus-fighting');\n      lockDisabled = true;\n      setTimeout(function () {\n        lockDisabled = false;\n      }, 1);\n      return;\n    }\n    guardCount++;\n    focusOn(focusable.node);\n    guardCount--;\n  }\n});","import tabHook from './tabHook';\nimport focusMerge, { getFocusabledIn } from './focusMerge';\nimport focusInside from './focusInside';\nimport focusIsHidden from './focusIsHidden';\nimport setFocus from './setFocus';\nimport * as constants from './constants';\nimport getAllAffectedNodes from './utils/all-affected';\n\nexport { tabHook, focusInside, focusIsHidden, focusMerge, getFocusabledIn, constants, getAllAffectedNodes };\n\nexport default setFocus;","import moveFocusInside, { focusIsHidden, focusInside } from 'focus-lock';\n\nvar lastActiveTrap = 0;\nvar lastActiveFocus = null;\n\nvar focusOnBody = function focusOnBody() {\n  return document && document.activeElement === document.body;\n};\n\nvar isFreeFocus = function isFreeFocus() {\n  return focusOnBody() || focusIsHidden();\n};\n\nvar activateTrap = function activateTrap() {\n  var result = false;\n\n  if (lastActiveTrap) {\n    var observed = lastActiveTrap;\n\n    if (!isFreeFocus()) {\n      if (observed && !focusInside(observed)) {\n        result = moveFocusInside(observed, lastActiveFocus);\n      }\n\n      lastActiveFocus = document.activeElement;\n    }\n  }\n\n  return result;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n  return propsList.filter(function (node) {\n    return node;\n  }).slice(-1)[0];\n};\n\nvar handleStateChangeOnClient = function handleStateChangeOnClient(trap) {\n  lastActiveTrap = trap;\n\n  if (trap) {\n    activateTrap();\n  }\n};\n\nvar instances = [];\n\nvar emitChange = function emitChange(event) {\n  if (handleStateChangeOnClient(reducePropsToState(instances))) {\n    event && event.preventDefault();\n    return true;\n  }\n\n  return false;\n};\n\nvar attachHandler = function attachHandler() {\n  document.addEventListener('focusin', emitChange);\n};\n\nvar detachHandler = function detachHandler() {\n  document.removeEventListener('focusin', emitChange);\n};\n\nvar focusLock = {\n  on: function on(domNode) {\n    if (instances.length === 0) {\n      attachHandler();\n    }\n\n    if (instances.indexOf(domNode) < 0) {\n      instances.push(domNode);\n      emitChange();\n    }\n  },\n  off: function off(domNode) {\n    instances = instances.filter(function (node) {\n      return node !== domNode;\n    });\n    emitChange();\n\n    if (instances.length === 0) {\n      detachHandler();\n    }\n  }\n};\n\nexport default focusLock;\n","/*\n* Applies and controls styles relating to centering the lightbox within the parent window\n*/\nimport { OVERLAY_FADE_TIME } from '../utils/config';\nimport * as EmbedHelpers from '../utils/embed-helpers';\nimport { ariaHideChildElements, undoAriaHideChildElements } from '../utils/accessibility-helpers';\nimport userAgentChecker from '../utils/user-agent-checker';\nimport focusLock from 'dom-focus-lock';\nimport screenreaderTrap from 'makeup-screenreader-trap';\n\ninterface ContainerElements {\n  backerElement: HTMLDivElement;\n  containerElement: HTMLDivElement;\n  containingDiv: HTMLDivElement;\n  iframe: HTMLIFrameElement;\n}\n\ninterface LightboxElements {\n  closeContainer: HTMLDivElement;\n  contentFixed: HTMLDivElement;\n  overlay: HTMLDivElement;\n  overlayWrapper: HTMLDivElement;\n  popbox: HTMLDivElement;\n}\n\nexport function show(\n  iframeString: string,\n  thumbnailContainer: HTMLDivElement,\n  overlayZindex: number,\n): { container: ContainerElements, lightbox: LightboxElements } {\n  const container = generateLightboxContainer(iframeString);\n  const lightbox = generateLightboxHTML(overlayZindex);\n  const lightboxConstraint = generateConstraintImage(thumbnailContainer);\n\n  // Needed so that the lightbox isn't the last element in the <body> to\n  // allow focusLock to listen for a focus event when focus leaves the\n  // last element in the lightbox\n  const focusableElement = document.createElement('div');\n  focusableElement.id = 'vidyard-focusable-element';\n  focusableElement.tabIndex = 0;\n\n  lightbox.popbox.appendChild(container.backerElement);\n  lightbox.popbox.appendChild(container.containingDiv);\n  lightbox.popbox.appendChild(lightboxConstraint);\n\n  if (userAgentChecker.ios()) {\n    ariaHideChildElements();\n  }\n\n  // Add them to the DOM\n  document.body.appendChild(lightbox.overlayWrapper);\n  document.body.appendChild(focusableElement);\n\n  lightbox.closeContainer.focus();\n  focusLock.on(lightbox.overlayWrapper);\n  screenreaderTrap.trap(lightbox.overlayWrapper);\n\n  // Have to use a timeout so css will actually transition the opacity\n  setTimeout(function animateOpacity(): void {\n    lightbox.overlayWrapper.style.opacity = '1';\n    lightbox.overlayWrapper.style.filter = 'alpha(opacity=100)';\n  }, 0);\n\n  return {\n    container,\n    lightbox,\n  };\n}\n\nexport function remove(callbacks?): void {\n  const fixedElement = document.getElementById('vidyard-content-fixed');\n  const focusableElement = document.getElementById('vidyard-focusable-element');\n  const overlay = document.getElementById('vidyard-overlay');\n  const overlayWrapper = document.getElementById('vidyard-overlay-wrapper');\n  const popbox = document.getElementById('vidyard-popbox');\n\n  if (!fixedElement || !overlay || !overlayWrapper || !popbox) {\n    return;\n  }\n\n  if (callbacks) {\n    Object.keys(callbacks).forEach((k): void => {\n      const cb = callbacks[k];\n      cb();\n    });\n  }\n\n  if (focusableElement) {\n    focusableElement.parentNode.removeChild(focusableElement);\n  }\n\n  focusLock.off(overlayWrapper);\n  screenreaderTrap.untrap(overlayWrapper);\n\n  overlayWrapper.style.opacity = '0';\n  overlayWrapper.style.filter = 'alpha(opacity=0)';\n\n  const cleanup = (): void => {\n    overlayWrapper.parentNode.removeChild(overlayWrapper);\n  };\n\n  if (userAgentChecker.ios()) {\n    undoAriaHideChildElements();\n  }\n\n  // Clean up the added DOM elements once fade out is complete\n  setTimeout(cleanup, OVERLAY_FADE_TIME * 1000);\n}\n\nexport function makeIframeVisible(iframe: HTMLIFrameElement): void {\n  iframe.style.opacity = '1';\n}\n\n// --- Private Functions ---\nfunction generateLightboxHTML(overlayZindex: number): LightboxElements {\n  // Create all the elements for the overlay\n  const overlay = document.createElement('div');\n  const contentFixed = document.createElement('div');\n  const popbox = document.createElement('div');\n  const overlayWrapper = document.createElement('div');\n  const closeContainer = generateCloseButton().closeContainer;\n\n  overlay.id = 'vidyard-overlay';\n  overlay.setAttribute('aria-hidden', 'true');\n  overlay.style.display = 'block';\n\n  contentFixed.id = 'vidyard-content-fixed';\n  contentFixed.setAttribute('aria-label', 'media player lightbox');\n  contentFixed.setAttribute('role', 'dialog');\n  contentFixed.style.display = 'block';\n\n  popbox.id = 'vidyard-popbox';\n  overlayWrapper.id = 'vidyard-overlay-wrapper';\n  overlayWrapper.style.display = 'block';\n\n  contentFixed.appendChild(popbox);\n  overlayWrapper.appendChild(overlay);\n  overlayWrapper.appendChild(closeContainer);\n  overlayWrapper.appendChild(contentFixed);\n\n  if (overlayZindex) {\n    overlay.style.zIndex = '' + overlayZindex;\n    contentFixed.style.zIndex = '' + (overlayZindex + 2);\n    closeContainer.style.zIndex = '' + (overlayZindex + 1);\n  }\n\n  return {\n    closeContainer,\n    contentFixed,\n    overlay,\n    overlayWrapper,\n    popbox,\n  };\n}\n\nfunction generateCloseButton(): { closeButton: HTMLDivElement, closeContainer: HTMLDivElement } {\n  const closeContainer = document.createElement('div');\n  const closeButton = document.createElement('div');\n\n  closeContainer.className = 'vidyard-close-container';\n  closeContainer.setAttribute('aria-label', 'Close Player');\n  closeContainer.setAttribute('role', 'button');\n  closeContainer.setAttribute('tabindex', '0');\n\n  closeButton.className = 'vidyard-close-x';\n\n  // Fix for ie7 not supporting :before pseudo elements\n  // Fix for ie8 not supporting transform rotate\n  if ((document as any).documentMode < 9) {\n    closeButton.className += ' simple-close';\n    closeButton.innerHTML = '&times;';\n  }\n\n  closeContainer.appendChild(closeButton);\n\n  return { closeButton, closeContainer };\n}\n\nfunction generateLightboxContainer(playerIframeDOMString: string): ContainerElements {\n  const backerElement = document.createElement('div');\n  backerElement.className = 'vidyard-lightbox-content-backer';\n\n  const containerElement = document.createElement('div');\n  // hydrate the markup string into actual DOM\n  containerElement.innerHTML = playerIframeDOMString;\n  const containingDiv = containerElement.getElementsByTagName('div')[0];\n\n  containingDiv.style.position = 'absolute';\n  containingDiv.style.height = '100%';\n  containingDiv.style.width = '100%';\n  containingDiv.style.zIndex = '2';\n\n  const iframe = containerElement.getElementsByTagName('iframe')[0];\n  const iframeParent = iframe.parentNode as HTMLElement;\n  // Lightbox specific styling for the iframe\n  iframeParent.style.position = 'static';\n  // This overwrites the padding bottom set by createIframe\n  iframeParent.style.paddingBottom = '0';\n  iframe.style.opacity = '1';\n\n  // This is to ensure the background actually animates\n  setTimeout(() => {\n    backerElement.style.opacity = '1';\n    backerElement.style.filter = 'alpha(opacity=100)';\n  }, 0);\n\n  return {\n    backerElement,\n    containerElement,\n    containingDiv,\n    iframe,\n  };\n}\n\nfunction generateConstraintImage(container: HTMLDivElement): HTMLImageElement {\n  const image = EmbedHelpers.getElementByClass(\n    'vidyard-lightbox-image',\n    'img',\n    container,\n  )[0].cloneNode();\n\n  image.className = '';\n  image.id = 'vidyard-popbox-constraint';\n  image.alt = '';\n  image.setAttribute('aria-hidden', 'true');\n\n  return image;\n}\n","import { getPlaybackURL } from '../utils/config';\nimport { xhrRequest } from '../utils/embed-helpers';\nimport { logger } from './debug';\n\ninterface Metadata {\n  chapters_attributes: Array<{\n    video_attributes: {\n      captions: any[];\n      description: string | null;\n      length_in_milliseconds: number;\n      length_in_seconds: number;\n      name: string;\n      sd_url: string;\n      status: string;\n      tags: any[];\n      thumbnail_urls: {\n        normal: string;\n        play_button: string;\n        play_button_small: string;\n        small: string;\n      };\n    };\n  }>;\n  custom_attributes: any[];\n  description: string;\n  height: number;\n  length_in_seconds: number;\n  name: string;\n  tags: any[];\n  uuid: string;\n  width: number;\n}\n\nexport default function getPlayerMetadata(uuid: string): Metadata | void {\n  if (!uuid || typeof uuid !== 'string' || uuid.length < 20) {\n    throw new Error('Invalid UUID given');\n    return;\n  }\n  const log = logger.setLevel(uuid);\n\n  // @TODO: add proper API to fetch metadata as this endpoint is private and not stable\n  const metadataEndpoint = `https://${getPlaybackURL()}/player/${uuid}.json?pomo=0&pomo_reason=fetchMetaData`;\n  log('fetching metadata');\n\n  return xhrRequest({ endpoint: metadataEndpoint })\n    .then(JSON.parse)\n    .then(\n      (data: any): Metadata => {\n        log('metadata successfully fetched');\n        return { uuid, ...data.payload.vyContext.metadata };\n      },\n    )\n    .catch((e) => {\n      log(`failed to fetch metadata, ${e}`);\n      throw new Error('Error parsing player metadata, make sure the UUID is correct')\n    });\n}\n","import { logger } from '../api/debug';\nimport { calcAspectRatio, addListener } from '../utils/embed-helpers';\nimport { createIframe } from '../models/markup-injector';\nimport * as LightboxAnimator from '../models/lightbox-animator';\nimport * as LightboxPageThumbnail from '../models/lightbox-page-thumbnail';\nimport { getStyle } from '../utils/jsonp';\nimport DataParams from '../models/data-params';\nimport VidyardPlayer from '../models/vidyard-player';\n\nconst injectLightboxElements = ({\n  dataParams,\n  player,\n}: {\n  dataParams: DataParams;\n  player: VidyardPlayer;\n}): void => {\n  const log = logger.setLevel(dataParams.uuid);\n  log(`injecting lighbox embed`);\n\n  // hide the placeholder image right away if lightbox\n  player.placeholder.style.display = 'none';\n\n  const iframeSizing = { ratio: calcAspectRatio(player.placeholder) };\n  const playerIframe = createIframe(dataParams, iframeSizing);\n\n  const thumbnailSizing = {\n    maxHeight: dataParams.height ? parseInt(dataParams.height, 10) : null,\n    maxWidth: dataParams.width ? parseInt(dataParams.width, 10) : null,\n    ratio: calcAspectRatio(player.placeholder),\n  };\n\n  // Inject lightbox thumbnail\n  LightboxPageThumbnail.init(player.container, dataParams, thumbnailSizing);\n  LightboxAnimator.setupAnimations({\n    container: player.container,\n    iframe: playerIframe,\n    overlayZindex: dataParams.overlayZindex,\n    player,\n  });\n\n  log(`getStyle sent`);\n  getStyle(player.uuid).then((data) => {\n    log(`getStyle received: ${JSON.stringify(data)}`);\n    // Update the play button of the lightbox thumbnail to match the colours on the model\n    LightboxPageThumbnail.applyLightboxPlayButton(data, player.container);\n  }).catch(e => {\n    log('getStyle failed, likely a network error');\n  });\n};\n\nexport default injectLightboxElements;\n","/*\n* Handles injecting html & css related specfically to lightbox embeds\n*/\nimport { getPlaybackURL } from '../utils/config';\nimport * as EmbedHelpers from '../utils/embed-helpers';\nimport DataParams from './data-params';\nimport getPlayerMetadata from '../api/get-player-metadata';\n\ninterface Sizing {\n  maxHeight: number | null;\n  maxWidth: number | null;\n  ratio: string;\n}\n\n// This code sets up the css and listeners for the on page splash screen & play button\nexport function init(\n  embedScriptElement: HTMLDivElement,\n  queryParams: DataParams,\n  sizing: Sizing,\n): void {\n  const lightboxThumbnailUrl = `https://${getPlaybackURL()}/${queryParams.uuid}.jpg`;\n  const lightboxString = composeLightboxString(lightboxThumbnailUrl, queryParams, sizing);\n  embedScriptElement.insertAdjacentHTML('afterbegin', lightboxString);\n\n  getPlayerMetadata(queryParams.uuid)\n    .then((metadata) => {\n      const playButton = EmbedHelpers.getElementByClass('play-button', 'button', embedScriptElement);\n      if (playButton.length !== 1) {\n        return;\n      }\n\n      playButton[0].setAttribute('aria-label', 'Play video ' + metadata.name + '. Opens in a modal');\n    }, () => {\n      // Ignore errors fetching metadata\n    });\n}\n\nexport function applyLightboxPlayButton(\n  pbData: { pb: number; pbc: string },\n  embedScriptElement: HTMLDivElement,\n): void {\n  if (pbData.pb !== 1) {\n    return;\n  }\n\n  const playButton = EmbedHelpers.getElementByClass('play-button', 'button', embedScriptElement);\n  if (playButton.length !== 1) {\n    return;\n  }\n\n  playButton[0].style.display = 'block';\n  playButton[0].style.backgroundColor = '#' + pbData.pbc;\n}\n\n// --- Private Functions ---\nfunction composeLightboxString(\n  lightboxThumbnailUrl: string,\n  queryParams: DataParams,\n  sizing: Sizing,\n): string {\n  return (\n    '<div class=\"vidyard-lightbox-thumbnail vidyard-lightbox-' + queryParams.uuid + '\"' +\n      (sizing.maxWidth ? ' style=\"max-width: ' + sizing.maxWidth + 'px;\"': '') +\n    '>' +\n    '<div class=\"vidyard-lightbox-centering\" ' +\n      'style=\"padding-bottom: ' + sizing.ratio + '%;\">' +\n        '<img class=\"vidyard-lightbox-image\" src=\"' + lightboxThumbnailUrl + '\" alt=\"video thumbnail\" />' +\n        '<div type=\"button\" role=\"button\" class=\"play-button\" title=\"Play video\" data-version=\"1\" tabindex=\"0\">' +\n          '<div class=\"play-button-size\"></div>' +\n          '<div class=\"arrow-size\">' +\n            '<div class=\"arrow-size-ratio\"></div>' +\n            '<div class=\"arrow\"></div>' +\n          '</div>' +\n        '</div>' +\n      '</div>' +\n    '</div>'\n  );\n}\n","import { addListener } from '../utils/embed-helpers';\nimport { getPlaybackURL } from '../utils/config';\nimport { send } from '../utils/frame-messenger';\nimport VidyardPlayer from '../models/vidyard-player';\nimport { DetailsPayload } from './seo';\n\nconst SKIP_BACKLINK_HOSTNAMES_RE = /(vidyard|vystaging|hubspot)\\.com$/;\n\nconst injectBacklink = (player: VidyardPlayer, data: DetailsPayload, force: boolean = false): void => {\n  if (!force && (!data || !data.hasBacklink || SKIP_BACKLINK_HOSTNAMES_RE.test(document.location.host))) {\n    return;\n  }\n\n  const linkEl = document.createElement('a');\n  const linkTextEl = document.createElement('span');\n  const imgEl = document.createElement('img');\n\n  imgEl.src = 'https://cdn.vidyard.com/client-logos/vidyard.png';\n  imgEl.id = 'backlink-icon';\n  imgEl.alt = 'Vidyard Logo';\n\n  linkTextEl.id = 'backlink-text';\n  linkTextEl.textContent = 'Powered by Vidyard';\n\n  linkEl.id = 'backlink';\n  linkEl.appendChild(imgEl);\n  linkEl.appendChild(linkTextEl);\n  linkEl.href = data.backlinkURL;\n  linkEl.rel = 'nofollow';\n  linkEl.target = '_blank';\n  linkEl.setAttribute('aria-label', 'Link to Vidyard');\n  linkEl.dataset.testid = 'backlink';\n\n  addListener(\n    'click',\n    'onclick',\n    () => {\n      const message = {\n        data: {\n          event: 'Acquisition - Clicked the Backlink',\n        },\n        event: 'sendMetricsEvent',\n        uuid: player.uuid,\n      };\n\n      send(message, `https://${getPlaybackURL()}`, player.iframe);\n    },\n    linkEl,\n  );\n\n  player.container.appendChild(linkEl);\n};\n\nexport default injectBacklink;\n","import DataParams from '../models/data-params';\n\nconst createContainer = (uuid: string, dataParams: DataParams): HTMLDivElement => {\n  const container = document.createElement('div');\n  container.className = 'vidyard-player-container';\n  container.setAttribute('uuid', uuid);\n\n  const styles = container.style;\n  styles.margin = 'auto';\n  styles.width = '100%';\n  styles.height = 'auto';\n  styles.overflow = 'hidden';\n  styles.display = 'block';\n\n  if (dataParams.type === 'inline') {\n    styles.maxWidth = dataParams.width ? dataParams.width + 'px' : '';\n    styles.maxHeight = dataParams.height ? dataParams.height + 'px' : '';\n  }\n\n  return container;\n};\n\nexport default createContainer;\n","import { TmpOrg, Org } from './integrations-watcher';\nimport { getPlaybackURL } from '../utils/config';\nimport * as EmbedHelpers from '../utils/embed-helpers';\nimport * as FrameMessenger from '../utils/frame-messenger';\n\nexport default class Player {\n  public _tmpOrg: TmpOrg;\n  public org: Org;\n  public container: HTMLDivElement;\n  public element: HTMLElement;\n  public iframe: HTMLIFrameElement;\n  public metadata: StatusData['metadata'] | null;\n  public placeholder: HTMLImageElement;\n  public progressEventsUnsubscribe: Array<() => void>;\n  public status: StatusData['status'] | null;\n  public uuid: string;\n\n  // These methods are populated by lightbox-animator.ts\n  public showLightbox: (e?: any) => void;\n  public hideLightbox: () => void;\n\n  private _ready = false;\n  private _previousTime = null;\n  private _callbackStore: CallbackStore;\n\n  constructor(element: HTMLElement, uuid: string, callbackStore?: CallbackStore) {\n    this._callbackStore = callbackStore || {\n      beforeSeek: [],\n      chapterComplete: [],\n      createCta: [],\n      fullScreenChange: [],\n      lightboxClose: [],\n      metadata: [],\n      pause: [],\n      play: [],\n      playerComplete: [],\n      ready: [],\n      seek: [],\n      sidePlaylistOpen: [],\n      status: [],\n      timeupdate: [],\n      videoComplete: [],\n      volumeChange: [],\n    };\n\n    this.element = element;\n    this.uuid = uuid;\n    this.status = null;\n    this.metadata = null;\n    this.progressEventsUnsubscribe = [];\n\n    EmbedHelpers.addListener('message', 'onmessage', this._onMessageEventHandler);\n  }\n\n  public on(eventName: keyof CallbackStore, callback: GivenCallback) {\n    if (eventName === 'ready' && this.ready()) {\n      setTimeout(() => callback.call(this, undefined, this), 0);\n      return;\n    }\n\n    if (this._callbackStore[eventName] === undefined) {\n      this._callbackStore[eventName] = [callback];\n\n      EmbedHelpers.log(\n        `The event name: ${eventName} is not supported, your handler was setup regardless`,\n        'warn',\n      );\n\n      return;\n    }\n\n    this._callbackStore[eventName].push(callback);\n  }\n\n  public trigger(eventName: keyof CallbackStore, ...args) {\n    for (const callback of this._callbackStore[eventName]) {\n      if (eventName === 'ready' && this.ready()) {\n        setTimeout(() => callback.call(this, args, this), 0);\n      } else {\n        callback.call(this, args, this);\n      }\n    }\n  }\n\n  public off(eventName: keyof CallbackStore, callback: GivenCallback) {\n    if (eventName === undefined) {\n      // No event name given, clear out all event handlers\n      for (const evt in this._callbackStore) {\n        if (this._callbackStore.hasOwnProperty(evt)) {\n          this._callbackStore[evt] = [];\n        }\n      }\n      return;\n    }\n\n    // If no handlers have been created with this eventName, do nothing\n    if (!this._callbackStore[eventName]) {\n      return;\n    }\n\n    if (callback) {\n      // Only remove the callback associated with the correct function\n      const index = EmbedHelpers.indexOfArray(callback, this._callbackStore[eventName]);\n      if (index > -1) {\n        this._callbackStore[eventName].splice(index, 1);\n      }\n    } else {\n      // Remove all callbacks associated with this eventName\n      this._callbackStore[eventName] = [];\n    }\n  }\n\n  public ready() {\n    return this._ready;\n  }\n\n  // API METHODS\n  public play() {\n    this._message({ event: 'play' });\n  }\n\n  public pause() {\n    this._message({ event: 'pause' });\n  }\n\n  public resume() {\n    this._message({ event: 'resume' });\n  }\n\n  public seek(position) {\n    this._message({ event: 'seek', position });\n  }\n\n  public setVolume(newVolume) {\n    this._message({ event: 'setVolume', newVolume });\n  }\n\n  public setPlaybackSpeed(speed) {\n    this._message({ event: 'setPlaybackSpeed', speed });\n  }\n\n  public playChapter(chapterIndex) {\n    EmbedHelpers.log('playChapter() is deprecated. We recommend to use playVideoAtIndex() instead.');\n    this.playVideoAtIndex(chapterIndex);\n  }\n\n  public playVideoAtIndex(index: number) {\n    this._message({ chapter_index: index, event: 'playChapter' });\n  }\n\n  public setAudioTrack(audioTrackId) {\n    this._message({ audioTrackId, event: 'setAudioTrack' });\n  }\n\n  public enableCaption(label, language) {\n    this._message({ event: 'enableCaption', label, language });\n  }\n\n  public disableCaption(label, language) {\n    this._message({ event: 'disableCaption', label, language });\n  }\n\n  public consentToGDPR(consent) {\n    this._message({ consent, event: 'consentToGDPR' });\n  }\n\n  public createCta(attributes) {\n    this._message({\n      attributes: EmbedHelpers.shallowMerge(\n        {\n          display_once: false,\n          duration: 10,\n          fullscreen: false,\n          html: '',\n          opacity: 1.0,\n          start: 0,\n          width: 300,\n        },\n        attributes,\n      ),\n      event: 'createCta',\n    });\n  }\n\n  public updateCta(ctaId, attributes) {\n    this._message({\n      attributes,\n      event: 'updateCta',\n      id: ctaId,\n    });\n  }\n\n  public createVideoSection(title, milliseconds) {\n    this._message({ event: 'createVideoSection', title, milliseconds });\n  }\n\n  public updateVideoSection(index, title, milliseconds) {\n    this._message({ event: 'updateVideoSection', index, title, milliseconds });\n  }\n\n  public deleteVideoSection(index) {\n    this._message({ event: 'deleteVideoSection', index });\n  }\n\n  public addEvent({ start = 0, duration = 1, videoIndex, chapterIndex, eventId }) {\n    if (!eventId) {\n      EmbedHelpers.log('Missing arguments. Need eventId');\n      return;\n    }\n\n    if (chapterIndex >= 0) {\n      EmbedHelpers.log('Parameter chapterIndex is deprecated. We recommend to use videoIndex instead.');\n    }\n\n    // We need to default chapterIndex to 0 because that's what we did previously, and we need to ensure all changes are backwards compatible\n    let index = 0;\n    index = chapterIndex ? chapterIndex : index;\n    index = videoIndex ? videoIndex : index;\n\n    this._message({\n      chapterIndex: index,\n      duration,\n      event: 'addEvent',\n      id: eventId,\n      start,\n    });\n  }\n\n  public getCurrentChapter() {\n    EmbedHelpers.log('getCurrentChapter() is deprecated. We recommend to use getCurrentVideoIndex() instead.');\n    return this.getCurrentVideoIndex();\n  }\n\n  public getCurrentVideoIndex() {\n    return this.status === null ? null : this.status.chapterIndex;\n  }\n\n  public currentTime() {\n    return this.status === null ? null : this.status.currentTime;\n  }\n\n  public scrubbing() {\n    return this.status === null ? null : this.status.scrubbing;\n  }\n\n  public toggleFullscreen() {\n    // Request iframe to go fullscreen if possible, to get around user gesture requirements\n    const fullscreenAPI = EmbedHelpers.getFullscreenAPI();\n\n    if (fullscreenAPI) {\n      const fullscreenPromise = this.iframe[fullscreenAPI.requestFullscreen]();\n      if (fullscreenPromise) {\n        fullscreenPromise.then(() => {\n          this._message({ event: 'toggleFullscreen' });\n        });\n      } else {\n        this._message({ event: 'toggleFullscreen' });\n      }\n\n      // Listens to when the window exits fullscreen via the 'Esc' key\n      EmbedHelpers.addListener(fullscreenAPI.fullscreenchange, 'MSFullscreenChange', () => {\n        if (!document[fullscreenAPI.fullscreenElement]) {\n          this._message({ event: 'exitFullscreen' });\n        }\n      });\n\n      EmbedHelpers.addListener('message', 'onmessage', FrameMessenger.receive((data) => {\n        if (data.event === 'fullScreenChange' && data.params === false) {\n          if (document[fullscreenAPI.fullscreenElement]) {\n            document[fullscreenAPI.exitFullscreen]();\n          }\n        }\n      }));\n    } else {\n      // Simply send message for iOS\n      this._message({ event: 'toggleFullscreen' });\n    }\n  }\n\n  public resetPlayer() {\n    this._message({ event: 'resetPlayer' });\n  }\n\n  private _message(options: MessageOptions) {\n    if (this.ready() !== true) {\n      EmbedHelpers.log('Player is not ready yet! No messages can be recieved.', 'error');\n      return;\n    }\n\n    FrameMessenger.send({ ...options, uuid: this.uuid }, `https://${getPlaybackURL()}`, this.iframe);\n  }\n\n  private _updateStatus(data: StatusData) {\n    if (typeof data.status === 'object') {\n      this.status = data.status;\n    }\n\n    if (typeof data.metadata === 'object') {\n      this.metadata = data.metadata;\n      this.trigger('metadata', data.metadata);\n    }\n\n    if (this.status) {\n      if (this.status.currentTime !== this._previousTime && this._callbackStore.timeupdate) {\n        for (const callback of this._callbackStore.timeupdate) {\n          callback.call(this, this.status.currentTime, this);\n        }\n      }\n\n      this._previousTime = this.status.currentTime;\n    }\n  }\n\n  private _onMessageEventHandler = (event: MessageEvent) => {\n    if (event.origin !== `https://${getPlaybackURL()}`) {\n      return;\n    }\n\n    let data;\n    try {\n      data = JSON.parse(event.data);\n    } catch (e) {\n      return;\n    }\n\n    // Event origin iframe is not the iframe owned by this player\n    if (this.iframe && event.source && this.iframe.contentWindow !== event.source) {\n      return;\n    }\n\n    // For a different player\n    if (this.uuid && data.uuid !== this.uuid) {\n      return;\n    }\n\n    // All vy events will have a string event name\n    if (typeof data.event !== 'string') {\n      return;\n    }\n\n    this._updateStatus(data);\n\n    if (data.event === 'ready') {\n      this._ready = true;\n      window.VidyardV4.integrations.updatePlayer(this);\n    }\n\n    const eventCallbacks = this._callbackStore[data.event];\n    if (eventCallbacks) {\n      for (const callback of eventCallbacks) {\n        callback.call(this, data.params, this);\n      }\n    }\n  };\n}\n\ntype GivenCallback = (this: Player, a: undefined, player: Player) => any;\n\ninterface CallbackStore {\n  beforeSeek: GivenCallback[];\n  chapterComplete: GivenCallback[];\n  createCta: GivenCallback[];\n  fullScreenChange: GivenCallback[];\n  lightboxClose: GivenCallback[];\n  metadata: GivenCallback[];\n  pause: GivenCallback[];\n  play: GivenCallback[];\n  playerComplete: GivenCallback[];\n  ready: GivenCallback[];\n  seek: GivenCallback[];\n  sidePlaylistOpen: GivenCallback[];\n  status: GivenCallback[];\n  timeupdate: GivenCallback[];\n  videoComplete: GivenCallback[];\n  volumeChange: GivenCallback[];\n}\n\ninterface CtaAttributes {\n  display_once: boolean;\n  duration: number;\n  fullscreen: boolean;\n  html: string;\n  opacity: number;\n  start: number;\n  width: number;\n}\n\ninterface StatusData {\n  event: string;\n  params?: number | number[] | { start: number };\n  metadata?: {\n    chapters_attributes: Array<{\n      video_attributes: {\n        captions: any[];\n        description: string | null;\n        length_in_milliseconds: number;\n        length_in_seconds: number;\n        name: string;\n        sd_url: string;\n        status: string;\n        tags: any[];\n        thumbnail_urls: {\n          normal: string;\n          play_button: string;\n          play_button_small: string;\n          small: string;\n        };\n      };\n    }>;\n    custom_attributes: any[];\n    description: string;\n    height: number;\n    length_in_seconds: number;\n    name: string;\n    tags: any[];\n    uuid: string;\n    width: number;\n  };\n  status: {\n    chapterIndex: number;\n    consent: boolean;\n    currentTime: number;\n    playerLoadId: string;\n    scrubbing: boolean;\n    videoId: number;\n  };\n  uuid: number;\n}\n\ntype MessageOptions =\n  | { event: 'addEvent'; chapterIndex: number; duration: number; id: number; start: number }\n  | { event: 'consentToGDPR'; consent: boolean }\n  | { event: 'createCta'; attributes: CtaAttributes }\n  | { event: 'disableCaption'; label: string; language: string }\n  | { event: 'enableCaption'; label: string; language: string }\n  | { event: 'pause' }\n  | { event: 'play' }\n  | { event: 'playChapter'; chapter_index: number }\n  | { event: 'resetPlayer' }\n  | { event: 'resume' }\n  | { event: 'seek'; position: number }\n  | { event: 'setAudioTrack'; audioTrackId: number }\n  | { event: 'setPlaybackSpeed'; speed: number }\n  | { event: 'setVolume'; newVolume: number }\n  | { event: 'toggleFullscreen' }\n  | { event: 'exitFullscreen' }\n  | { event: 'updateCta'; attributes: CtaAttributes; id: number }\n  | { event: 'createVideoSection'; title: string; milliseconds: number }\n  | { event: 'updateVideoSection'; index: number; title: string; milliseconds: number }\n  | { event: 'deleteVideoSection'; index: number };\n","/*\n* Handles sweeping over the DOM and injecting all types of players\n* Effectively is the puppet master for all the embed code stuff\n*/\nimport dispatchReady from '../api/dispatch-ready';\nimport { processReadyListeners } from '../api/add-ready-listener';\nimport { logger } from '../api/debug';\n\nimport injectInlineElements from '../controllers/inline-player';\nimport injectLightboxElements from '../controllers/lightbox-player';\nimport injectBacklink from '../controllers/backlink';\nimport setupIntegrations from '../controllers/integrations';\nimport setupSEO from '../controllers/seo';\n\nimport { getElementByClass, toArray, log as consoleLog, find } from '../utils/embed-helpers';\nimport createContainer from '../views/container';\n\nimport DataParams from './data-params';\nimport preloadFrames from './preload-frames';\nimport VidyardPlayer from './vidyard-player';\n\nexport const sweepDocument = (container = document): void => {\n  // Find all divs that belong to vy\n  const embedLocations = getElementByClass('vidyard-player-embed', 'img', container);\n  preloadFrames(embedLocations);\n  toArray(embedLocations).forEach(renderPlayer);\n  dispatchReady();\n};\n\nexport const renderPlayer = (placeholderImg: HTMLImageElement): VidyardPlayer => {\n  const { integrations, api, players, playerReadyListeners } = window.VidyardV4;\n  const dataParams = new DataParams(placeholderImg);\n  const { uuid } = dataParams;\n  const log = logger.setLevel(uuid);\n  log(`rendering`);\n\n  // Cant do anything without a uuid, just skip it\n  if (uuid === undefined) {\n    consoleLog(\n      'Embed without a UUID detected, it is impossible to insert a player without a UUID. Add \"data-uuid=some_uuid\" to the offending element.' +\n        placeholderImg,\n    );\n    return;\n  }\n\n  if (dataParams.rendered === 'true') {\n    log(`Already rendered`);\n    return find(players, (player) => player.placeholder === placeholderImg);\n  }\n\n  const container = createContainer(uuid, dataParams);\n  const newPlayer = new VidyardPlayer(container, uuid);\n\n  placeholderImg.setAttribute('data-rendered', 'true');\n  placeholderImg.parentNode.insertBefore(container, placeholderImg);\n\n  newPlayer.placeholder = placeholderImg;\n  newPlayer.container = container;\n  players.push(newPlayer);\n\n  processReadyListeners(newPlayer);\n\n  // Inject player HTML into the dom\n  if (dataParams.type === 'inline') {\n    injectInlineElements({ dataParams, player: newPlayer });\n  } else if (dataParams.type === 'lightbox') {\n    injectLightboxElements({ dataParams, player: newPlayer });\n  }\n\n  setupIntegrations(newPlayer);\n  setupSEO(newPlayer.uuid).then((jsonpData) => {\n    if (dataParams.type === 'inline') {\n      injectBacklink(newPlayer, jsonpData, dataParams.backlink && dataParams.backlink === 1);\n    }\n  });\n\n  // add the player to the window.Vidyard global\n  // used for progress events and some integrations\n  window.Vidyard._players[newPlayer.uuid] = newPlayer;\n\n  return newPlayer;\n};\n","import { logger } from '../api/debug';\n\n// cb: callback when a player is ready, uuid: optional filter to only listen for individual player uuids\nexport default function addReadyListener(cb: () => void, uuid?: string) {\n  const {\n    VidyardV4: { playerReadyListeners },\n  } = window;\n\n  // Store all callbacks for any yet to be created players\n  playerReadyListeners[uuid] = playerReadyListeners[uuid] || [];\n  playerReadyListeners[uuid].push(cb);\n\n  // Add ready listeners to all currently available players\n  for (const currentPlayer of window.VidyardV4.players) {\n    // Is this the correct player OR are they setting up listeners for every player\n    if (uuid !== undefined && currentPlayer.uuid !== uuid) {\n      continue;\n    }\n\n    currentPlayer.on('ready', cb);\n  }\n}\n\nexport function processReadyListeners(player) {\n  const { playerReadyListeners } = window.VidyardV4;\n  const { uuid } = player;\n  const log = logger.setLevel(player.uuid);\n\n  // Ensure the cb set for this uuid is defined\n  playerReadyListeners[uuid] = playerReadyListeners[uuid] || [];\n\n  // Get the total set of callbacks for this uuid && all uuids\n  const callbacks = playerReadyListeners[uuid].concat(playerReadyListeners[undefined]);\n\n  // Loop through all cbs and add them to the players listeners\n  Object.keys(callbacks).forEach((k) => {\n    const callback = callbacks[k];\n    player.on('ready', callback);\n    log(`attaching ready callbacks`);\n  });\n}\n","import { logger } from '../api/debug';\nimport { checkJSONParse } from '../utils/embed-helpers';\nimport { getMarketoLead, getIntegrations } from '../utils/jsonp';\nimport VidyardPlayer from '../models/vidyard-player';\n\nexport default function integrationsControler(player: VidyardPlayer): void {\n  const { integrations } = window.VidyardV4;\n  const log = logger.setLevel(player.uuid);\n  const marketoCookie = integrations.getCookie('marketo');\n\n  if (marketoCookie) {\n    log(`getMarketoLead sent`);\n    getMarketoLead(player.uuid, marketoCookie)\n      .then(checkJSONParse)\n      // @TODO: add better types here\n      .then(\n        (leadData: any): void => {\n          log(`getMarketoLead received: ${leadData}`);\n          player.on(\n            'ready',\n            (): void => {\n              integrations.addKnownVisitor('marketo', leadData, player.org);\n            },\n          );\n        },\n      )\n      .catch(\n        (): void => {\n          logger.warn('Invalid Marketo cookie');\n        },\n      );\n  }\n\n  // Get info on what our integrations are by hitting /v4/:uuid/integrations.js\n  log(`getIntegrations`);\n  // @TODO: add better types here\n  getIntegrations(player.uuid).then(\n    (data: any): void => {\n      log(`getIntegrations received: ${JSON.stringify(data)}`);\n      player.on('ready', (): void => {\n        player._tmpOrg = data;\n        integrations.updatePlayer(player);\n      });\n    },\n  ).catch(e => {\n    log('getIntegrations failed, likely a network error');\n  });\n}\n","import { logger } from '../api/debug';\nimport { isObjectEmpty } from '../utils/embed-helpers';\nimport { getSEO } from '../utils/jsonp';\nimport { createJsonLD } from '../models/markup-injector';\n\nexport interface DetailsPayload {\n  '@context'?: string;\n  '@type'?: string;\n  backlinkURL: string;\n  description?: string;\n  duration?: string;\n  embedUrl?: string;\n  hasBacklink: boolean;\n  height?: number;\n  id?: string;\n  keywords?: string;\n  name?: string;\n  thumbnailUrl?: string;\n  transcript?: string;\n  uploadDate?: string;\n  width?: number;\n}\n\nexport default function seoController(uuid: string): Promise<DetailsPayload> {\n  const log = logger.setLevel(uuid);\n  log(`getSEO sent`);\n\n  return getSEO(uuid)\n    .then(\n      (data: DetailsPayload): DetailsPayload => {\n        log(`getSEO: ${JSON.stringify(data)}`);\n        if (!isObjectEmpty(data)) {\n          const jsonLD = createJsonLD(data);\n          document.getElementsByTagName('head')[0].appendChild(jsonLD);\n        }\n        return data;\n      },\n    )\n    .catch((e) => {\n      log('getSEO failed, likely a network error');\n    });\n}\n","function getPlayersByUUID(uuid) {\n  return window.VidyardV4.players.filter((player) => player.uuid === uuid);\n}\n\nexport default getPlayersByUUID;\n","export const removeDuplicates = (targetArray) => {\n  targetArray.sort((a, b) => {\n    if (a < b) {\n      return -1;\n    }\n    if (a > b) {\n      return 1;\n    }\n    return 0;\n  });\n\n  let i = 0;\n  while (i < targetArray.length) {\n    if (targetArray[i] === targetArray[i + 1]) {\n      targetArray.splice(i + 1, 1);\n    } else {\n      i += 1;\n    }\n  }\n  return targetArray;\n}\n\n","import Player from '../../models/vidyard-player';\n\ninterface Listener {\n  callback: ListenerCallback;\n  lastTimeUpdate: number;\n  partOfVideoWatched: {};\n  player: Player;\n  thresholds: number[];\n  timeWatched: number;\n}\n\ntype ListenerCallback = (params: {\n  chapter: number;\n  event: number;\n  player: Player;\n  videoIndex: number;\n}) => null;\n\nconst templates = {};\nconst listeners = {};\n\nexport function addTemplate(player: Player, callback: ListenerCallback, thresholds: number[]): void {\n  // Prepare the listeners object when the template gets registered\n  if (typeof listeners[player.uuid] !== 'object') { listeners[player.uuid] = {}; }\n\n  templates[player.uuid] = {\n    callback,\n    thresholds: [...thresholds].sort((a, b) => b - a),\n  };\n}\n\nfunction copyTemplate(player: Player, videoIndex: number): void {\n  addListener(\n    player,\n    videoIndex,\n    templates[player.uuid].callback,\n    [...templates[player.uuid].thresholds],\n  );\n}\n\nexport function getListener(player: Player, videoIndex: number): Listener {\n  // If there's no template, then there's no listeners\n  if (typeof templates[player.uuid] !== 'object') { return undefined; }\n\n  // If necessary, create the listener using the matching template\n  if (typeof listeners[player.uuid][videoIndex] !== 'object') { copyTemplate(player, videoIndex); }\n\n  return listeners[player.uuid][videoIndex];\n}\n\n// Adds a new listeners entry based on player/videoIndex\nfunction addListener(player: Player, videoIndex: number, callback: ListenerCallback, thresholds: number[]): void {\n  listeners[player.uuid][videoIndex] = {\n    callback,\n    lastTimeUpdate: player.currentTime(),\n    partOfVideoWatched: {},\n    player,\n    thresholds,\n    timeWatched: 0,\n  };\n}\n\nexport function removeTemplateAndListeners(player: Player): void {\n  templates[player.uuid] = undefined;\n  listeners[player.uuid] = undefined;\n}\n\n// Updates the new listeners entry based on player/videoIndex.\n// Trigger the callback for any thresholds passed in the process.\nexport function updateTimeWatched(player: Player, time: number): void {\n  const videoIndex = player.getCurrentVideoIndex();\n  const listener = getListener(player, videoIndex);\n  if (\n    typeof listener === 'undefined'\n    || typeof listener.player.metadata !== 'object'\n    || listener.thresholds.length === 0\n   ) {\n    return;\n  }\n\n  const deltaTime = time - listener.lastTimeUpdate;\n  listener.lastTimeUpdate = time;\n\n  // If the time change moved backwards or was > 1 second,\n  // then assume the player was seeking and ignore this timeupdate\n  if (deltaTime <= 0 || deltaTime > 1) { return; }\n\n  if (time >= 1) {\n    listener.partOfVideoWatched[Math.floor(time)] = 1;\n  }\n\n  // Trigger the callback for any thresholds that have been passed since the last timeupdate.\n  // Progress events can only be triggered once, so remove the threshold when it's hit.\n  listener.timeWatched = Object.keys(listener.partOfVideoWatched).length;\n  const duration = listener.player.metadata.chapters_attributes[videoIndex].video_attributes.length_in_seconds;\n  const percentWatched = listener.timeWatched / duration * 100;\n  while (percentWatched >= listener.thresholds[listener.thresholds.length - 1]) {\n    listener.callback({\n      // Deprecated. Only included for backwards compatibility\n      chapter: videoIndex,\n\n      event: listener.thresholds.pop(),\n      player,\n      videoIndex,\n    });\n  }\n}\n\nexport default function setupEventListeners(player: Player, callback: ListenerCallback, thresholds: number[]) {\n  // Instead of creating a listener for each chapter,\n  // store a template that will create the listener when needed.\n  // Doing so allows progressEvents() to be registered before the player ready event is fired\n  addTemplate(player, callback, thresholds);\n\n  const onTimeUpdate = (time: number): void => updateTimeWatched(player, time);\n  player.on('timeupdate', onTimeUpdate);\n\n  return {\n    player,\n    removeEventListeners: (): void => {\n      player.off('timeupdate', onTimeUpdate);\n      removeTemplateAndListeners(player);\n    },\n  };\n}\n","import { removeDuplicates } from './progress-events/remove-duplicates';\nimport setupEventListeners from './progress-events/setup-event-listeners';\nimport VidyardPlayer from '../models/vidyard-player';\nimport { log } from '../utils/embed-helpers';\n\ninterface Players {\n  [uuid: string]: VidyardPlayer | '';\n}\n\n// Initialize analytics for each player when called\nfunction progressEvents(\n  callback,\n  thresholds = [1, 25, 50, 75, 90],\n  singlePlayerScope?: VidyardPlayer,\n) {\n  const removeEventListeners = [];\n  const players: Players = singlePlayerScope\n    ? { [singlePlayerScope.uuid]: singlePlayerScope }\n    : getPlayers();\n\n  // Sort and unique the array in case we are passed an unusual array of thresholds\n  const dedupedThresholds = removeDuplicates(thresholds);\n\n  for (const uuid in players) {\n    if (players.hasOwnProperty(uuid) && uuid.length > 0 && players[uuid] !== '') {\n      // set the listener\n      const removeCb = setupEventListeners(players[uuid], callback, dedupedThresholds);\n      removeEventListeners.push(removeCb);\n    } else {\n      log(() =>\n        console.error(\n          `Could not attach Progress Events to player ${uuid}, make sure to load the Vidyard Player API`,\n        ),\n      );\n    }\n  }\n\n  if (removeEventListeners.length === 0) {\n    log(() =>\n      console.warn('No Vidyard Players found. (include this script below player embed codes)'),\n    );\n  }\n\n  return removeEventListeners;\n}\n\nfunction getPlayers(): Players | {} {\n  try {\n    return window.Vidyard.players();\n  } catch (e) {\n    log(() =>\n      console.error('The Vidyard Player API must be loaded before this script can execute'),\n    );\n    return {};\n  }\n}\n\nexport default function progressEventsWrapper(...args) {\n  const subscriptions = progressEvents(...args);\n\n  Object.keys(subscriptions).forEach((k) => {\n    const { player, removeEventListeners } = subscriptions[k];\n    if (player.progressEventsUnsubscribe) {\n      player.progressEventsUnsubscribe.push(removeEventListeners);\n    }\n  });\n}\n","import { createPlaceholder, RenderOptions, loadPlaceholder } from '../models/placeholder';\nimport { renderPlayer as render } from '../models/renderer';\nimport { log } from '../utils/embed-helpers';\nimport messages from '../utils/messages';\nimport Promise from '../utils/promise';\nimport { logger } from './debug';\n\n// TODO: change Promise<any> to Promise<Player> once we have a proper type for it\nconst renderPlayerFromPlaceholder = (image: HTMLImageElement): Promise<any> => {\n  logger.setLevel('placeholder')('rendering player from placeholder image');\n  const player = render(image);\n  // resolve when the player is ready, unless the player is a lightbox\n  return new Promise((res) => {\n    if (player.showLightbox) {\n      res(player);\n    } else {\n      player.on('ready', () => res(player));\n    }\n  });\n};\n\ntype renderPlayerParam = HTMLImageElement | RenderOptions;\n\nexport default function renderPlayer(options: renderPlayerParam): Promise<object> {\n  // TODO: instead of creating an image make render.renderPlayer work with an options objects\n  const placeholder =\n    options instanceof HTMLImageElement ? options : createPlaceholder(options);\n\n  return loadPlaceholder(placeholder)\n    .then(renderPlayerFromPlaceholder)\n    .catch((e) => log(messages.errors.placeholder, 'warn'));\n}\n","import IntegrationsWatcher, { IntegrationsWatcherInstance } from '../models/integrations-watcher';\nimport { sweepDocument } from '../models/renderer';\nimport Player from '../models/vidyard-player';\nimport addReadyListener from './add-ready-listener';\nimport destroyPlayer from './destroy-player';\nimport { consent, hasConsentOnReady } from './gdpr';\nimport getPlayersByUUID from './get-players-by-uuid';\nimport progressEventsWrapper from './progress-events-wrapper';\nimport renderPlayer from './render-player';\nimport debug, { Debug as DebugType } from './debug';\nimport getPlayerMetadata from './get-player-metadata';\n\ninterface API {\n  GDPR: {\n    _readyConsent?: boolean | undefined;\n    consent: typeof consent;\n    hasConsentOnReady: typeof hasConsentOnReady;\n  };\n  addReadyListener: typeof addReadyListener;\n  destroyPlayer: typeof destroyPlayer;\n  getPlayerMetadata: typeof getPlayerMetadata;\n  getPlayersByUUID: typeof getPlayersByUUID;\n  progressEvents: typeof progressEventsWrapper;\n  renderDOMPlayers: typeof sweepDocument;\n  renderPlayer: typeof renderPlayer;\n}\n\nexport interface VidyardEmbed {\n  VERSION: string;\n  api: API;\n  players: Player[];\n}\n\nexport interface VidyardV4 {\n  _debug: DebugType;\n  api: API;\n  integrations: IntegrationsWatcherInstance;\n  jsonp: { [uuid: string]: { done: (data: any) => void } };\n  playerReadyListeners: { [key: string]: Array<([...x]: [any]) => any> };\n  players: Player[];\n  preloadLinks: string[];\n}\n\nconst vidyardV4Global: VidyardV4 = {\n  _debug: debug,\n  api: {\n    GDPR: { consent, hasConsentOnReady },\n    addReadyListener,\n    destroyPlayer,\n    getPlayerMetadata,\n    getPlayersByUUID,\n    progressEvents: progressEventsWrapper,\n    renderDOMPlayers: sweepDocument,\n    renderPlayer,\n  },\n  integrations: new IntegrationsWatcher(),\n  jsonp: {},\n  // Just ensure that the undefined uuid option is always present\n  playerReadyListeners: { undefined: [] },\n  players: [],\n  preloadLinks: [],\n};\n\nexport default vidyardV4Global;\n","export function consent(userConsent) {\n  if (userConsent === undefined) {\n    return;\n  }\n\n  const { players } = window.VidyardV4;\n\n  for (const player of players) {\n    player.on('ready', () => {\n      player.consentToGDPR(userConsent);\n    });\n  }\n}\n\n// Used to determine whether or not to ask for GDPR consent on page load\n// _readyConsent does not change based on calls to the consent function to limit usage\n// to the expected use case at page load\nexport function hasConsentOnReady(callback) {\n  let playersReady = 0;\n  const { GDPR: gdpr } = window.VidyardV4.api;\n  const { players } = window.VidyardV4;\n\n  if (players.length === 0) {\n    return callback(false);\n  }\n  if (gdpr._readyConsent !== undefined) {\n    return callback(gdpr._readyConsent);\n  }\n\n  // Make sure all the players are ready before returning the consent\n  for (const player of players) {\n    player.on('ready', () => {\n      if (playersReady !== players.length) {\n        playersReady += 1;\n      }\n\n      if (playersReady === players.length) {\n        // TODO: can't use reduce in old IE, add helper\n        gdpr._readyConsent = players.reduce((c, p) => p.status.consent && c, true);\n        return callback(gdpr._readyConsent);\n      }\n    });\n  }\n}\n","import { includes, indexOfArray, log } from '../utils/embed-helpers';\nimport VidyardPlayer from '../models/vidyard-player';\n\nfunction unsubscribeProgressEvents(player: VidyardPlayer) {\n  player.progressEventsUnsubscribe.forEach((cb) =>  cb());\n  player.progressEventsUnsubscribe = [];\n}\n\nexport default function destroyPlayer(player) {\n  const { players } = window.VidyardV4;\n\n  if (includes(players, player)) {\n    unsubscribeProgressEvents(player);\n    player.off();\n    player.container.parentNode.removeChild(player.container);\n    player.placeholder.parentNode.removeChild(player.placeholder);\n    players.splice(indexOfArray(player, players));\n  } else {\n    log(`Cannot destroy an unknown player`, 'warn');\n  }\n}\n","import Player from '../models/vidyard-player';\n\nexport interface Vidyard {\n  _players: { [uuid: string]: Player };\n  players: () => { [uuid: string]: Player };\n}\n\nconst vidyardGlobal: Vidyard = {\n  _players: {},\n  players: () =>\n    window.VidyardV4.players.reduce((acc, player) => {\n      acc[player.uuid] = player;\n      return acc;\n    }, {}),\n};\n\nexport default vidyardGlobal;\n","import { ERROR_ORIGIN_RE, getErrorURL } from './config';\nimport { addListener, log, xhrRequest } from './embed-helpers';\nimport createErrorReport from './error-report';\n\ntype errorHandler = (\n  options: {\n    error: Error;\n    filename: string;\n    message: string;\n    timeStamp: number;\n    type: string;\n  },\n) => void;\n\nconst vyError = (source: string = '') => source.match(ERROR_ORIGIN_RE);\n\nexport const errorHandler: errorHandler = ({ error, filename, message, timeStamp, type }) => {\n  if (vyError(filename)) {\n    const { location, navigator, VidyardV4: vyGlobal } = window;\n\n    const payload = createErrorReport({\n      error,\n      location,\n      message,\n      navigator,\n      timeStamp,\n      type,\n      vyGlobal,\n    });\n\n    xhrRequest({ endpoint: getErrorURL(), method: 'POST', payload }).then(\n      (res) => log(`Error logged ${res}`),\n      (e) => log(`Error log failed ${e}`),\n    );\n  }\n};\n\nexport default function logErrors() {\n  addListener('error', 'onerror', errorHandler, window);\n\n  addListener('unhandledrejection', '', (e: PromiseRejectionEvent) => {\n    const { reason: error, timeStamp, type } = e;\n\n    if (e.reason instanceof Error && vyError(error.stack)) {\n      // prevent errors in the console\n      e.preventDefault();\n\n      errorHandler({\n        error,\n        // PromiseRejectionEvents do not have a filename field\n        // the workaround is to look for the v4.js script in the stack trace\n        filename: error.stack,\n        message: error.message,\n        timeStamp,\n        type,\n      });\n    }\n  });\n}\n","import * as ErrorStackParse from 'error-stack-parser';\nimport { getPlaybackURL, VERSION } from './config';\n\n// based on the Rollbar API\n// https://docs.rollbar.com/v1.0.0/reference#section-data-format<Paste>\nexport default function createErrorReport({\n  error,\n  location,\n  message,\n  navigator,\n  timeStamp,\n  type,\n  vyGlobal,\n}) {\n  return {\n    data: {\n      // Required: body\n      // The main data being sent. It can either be a message, an exception, or a crash report.\n      body: {\n        // If this payload is a single exception, use \"trace\"\n        // A list of stack frames, ordered such that the most recent call is last in the list.\n        trace: {\n          // Required: exception\n          // An object describing the exception instance.\n          exception: {\n            // Required: class\n            // The exception class name.\n            class: error.name,\n\n            // Optional: message\n            // The exception message, as a string\n            message,\n          },\n          // Each frame is an object.\n          frames: ErrorStackParse.parse(error).map((frame) => ({\n            // Optional: code\n            // The line of code\n            code: frame.source,\n\n            // Optional: colno\n            // The column number as an integer\n            colno: frame.columnNumber,\n\n            // Required: filename\n            // The filename including its full path.\n            filename: frame.fileName,\n\n            // Optional: colno\n            // The column number as an integer\n            lineno: frame.lineNumber,\n\n            // Optional: method\n            // The method or function name\n            method: frame.functionName,\n          })),\n        },\n      },\n\n      // Optional: client\n      // Data about the client device this event occurred on.\n      // As there can be multiple client environments for a given event (i.e. Flash running inside\n      // an HTML page), data should be namespaced by platform.\n      client: {\n        // Can contain any arbitrary keys. Rollbar understands the following:\n\n        // Optional: cpu\n        // A string up to 255 characters\n        cpu: navigator.platform,\n        javascript: {\n          // Optional: browser\n          // The user agent string\n          browser: navigator.userAgent,\n\n          // Optional: guess_uncaught_frames\n          // Set to true to enable frame guessing\n          // See the \"Source Maps\" guide for more details.\n          guess_uncaught_frames: true,\n\n          // Optional: source_map_enabled\n          // Set to true to enable source map deobfuscation\n          // See the \"Source Maps\" guide for more details.\n          source_map_enabled: true,\n        },\n      },\n\n      // Optional: code_version\n      // A string, up to 40 characters, describing the version of the application code\n      // Rollbar understands these formats:\n      // - semantic version (i.e. \"2.1.12\")\n      // - integer (i.e. \"45\")\n      // - git SHA (i.e. \"3da541559918a808c2402bba5012f6c60b27661c\")\n      code_version: VERSION,\n\n      // Optional: custom\n      // Any arbitrary metadata you want to send. \"custom\" itself should be an object.\n      custom: {\n        jsonpRequests: Object.keys(vyGlobal.jsonp),\n        playbackUrlOverride: window.VIDYARD_PLAYBACK_URL,\n        players: vyGlobal.players.map((player) => ({\n          iframe: player.iframe ? { src: player.iframe.src } : {},\n          metadata: player.metadata,\n          org: player.org\n            ? { id: player.org.id, foundIntegrations: player.org.foundIntegrations }\n            : {},\n          uuid: player.uuid,\n        })),\n        preloadLinks: vyGlobal.preloadLinks,\n      },\n\n      // Required: environment\n      // The name of the environment in which this occurrence was seen.\n      // A string up to 255 characters. For best results, use \"production\" or \"prod\" for your\n      // production environment.\n      // You don't need to configure anything in the Rollbar UI for new environment names;\n      // we'll detect them automatically.\n      environment: getPlaybackURL(),\n\n      // Optional: fingerprint\n      // A string controlling how this occurrence should be grouped. Occurrences with the same\n      // fingerprint are grouped together. See the \"Grouping\" guide for more information.\n      // Should be a string up to 40 characters long; if longer than 40 characters, we'll use its SHA1 hash.\n      // If omitted, we'll determine this on the backend.\n      fingerprint: error.name,\n      // Optional: language\n      // The name of the language your code is written in.\n      // This can affect the order of the frames in the stack trace. The following languages set the most\n      // recent call first - 'ruby', 'javascript', 'php', 'java', 'objective-c', 'lua'\n      // It will also change the way the individual frames are displayed, with what is most consistent with\n      // users of the language.\n      language: 'javascript',\n\n      // Optional: level\n      // The severity level. One of: \"critical\", \"error\", \"warning\", \"info\", \"debug\"\n      // Defaults to \"error\" for exceptions and \"info\" for messages.\n      // The level of the *first* occurrence of an item is used as the item's level.\n      level: type,\n\n      // Optional: platform\n      // The platform on which this occurred. Meaningful platform names:\n      // \"browser\", \"android\", \"ios\", \"flash\", \"client\", \"heroku\", \"google-app-engine\"\n      // If this is a client-side event, be sure to specify the platform and use a post_client_item access token.\n      platform: 'browser',\n\n      // Optional: request\n      // Data about the request this event occurred in.\n      // Can contain any arbitrary keys. Rollbar understands the following:\n      // query_string: the raw query string\n      // url: full URL where this event occurred\n      request: { query_string: location.search, url: location.href },\n\n      // Optional: timestamp\n      // When this occurred, as a unix timestamp.\n      timestamp: timeStamp,\n    },\n  };\n}\n","/*\n* Root embed script file. Communicates and manages everything within the /embed sub-folders\n* Exports nothing, on initial page ready the first available script will\n*   1) Define window.VidyardV4, which acts as the public player API\n*   2) Sweep the document for any player <img/>s & embed them as needed\n*   3) For each newly found embed, a VidyardPlayer object will be added to the window.VidyardV4.players array\n*\n* On subsequent script invocations an event will be fired and only steps 2-3) will be repeated\n*/\nimport preloadFrames from './models/preload-frames';\nimport { addListener } from './utils/embed-helpers';\nimport VidyardV4Global from './api/vidyard-v4-global';\nimport VidyardGlobal from './api/vidyard-global';\nimport './css/style.css';\nimport logErrors from './utils/error-logger';\n\n// --- Runs on script execution ---\nlogErrors();\n\nconst { _debug, api, players } = VidyardV4Global;\n\n// Bind legacy globals\nwindow.VidyardV4 = window.VidyardV4 || VidyardV4Global;\nwindow.Vidyard = window.Vidyard || VidyardGlobal;\n\n// --- Runs on script execution ---\nswitch (document.readyState) {\n  case 'complete':\n    api.renderDOMPlayers();\n    break;\n  case 'interactive':\n    preloadFrames();\n    addListener('load', 'onload', () => api.renderDOMPlayers(), window);\n    break;\n  default:\n    // wait until document load completes\n    addListener('load', 'onload', () => api.renderDOMPlayers(), window);\n}\n\n// Export the public API\nexport { _debug, api, players };\nexport default VidyardV4Global;\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (obj instanceof Object) {\n            for (var i = 0; i < props.length; i++) {\n                if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n                    this['set' + _capitalize(props[i])](obj[props[i]]);\n                }\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var functionName = this.getFunctionName() || '{anonymous}';\n            var args = '(' + (this.getArgs() || []).join(',') + ')';\n            var fileName = this.getFileName() ? ('@' + this.getFileName()) : '';\n            var lineNumber = _isNumber(this.getLineNumber()) ? (':' + this.getLineNumber()) : '';\n            var columnNumber = _isNumber(this.getColumnNumber()) ? (':' + this.getColumnNumber()) : '';\n            return functionName + args + fileName + lineNumber + columnNumber;\n        }\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".vidyard-player-container .play-button{position:absolute;width:16%;height:auto;border-radius:50%;border:none;cursor:pointer;opacity:.65;filter:alpha(opacity = 65);transition:opacity .2s linear;overflow:hidden;font-size:0;padding:0;min-width:20px;top:50%;left:50%;transform:translate(-50%,-50%);-webkit-appearance:initial!important;-moz-appearance:initial!important;appearance:initial!important}.vidyard-player-container .play-button .play-button-size{padding-top:100%;width:100%}.vidyard-player-container .play-button .arrow-size{position:absolute;top:50%;left:50%;width:35%;height:auto;margin:-25% 0 0 -12%;overflow:hidden}.vidyard-player-container .play-button .arrow-size-ratio{padding-top:150%;width:100%}.vidyard-player-container .play-button .arrow{position:absolute;top:50%;left:auto;right:0;bottom:auto;width:0;height:0;margin:-200px 0 -200px -300px;border:200px solid transparent;border-left:300px solid #fff;border-right:none}.vidyard-lightbox-thumbnail:hover .play-button{opacity:1;filter:alpha(opacity = 100);zoom:1}.vidyard-player-container{position:relative;height:100%;text-align:center}.vidyard-player-container img{height:100%}.vidyard-player-container .play-button{display:none}.vidyard-close-container{position:fixed;right:20px;top:20px;height:34px;width:34px;cursor:pointer;z-index:1000}.vidyard-close-container:focus{outline:1px dotted grey}.vidyard-close-x{position:absolute;height:100%;width:100%;color:#fff;font-size:2em;text-align:center;line-height:34px}.vidyard-close-x:hover{color:#ddd}.vidyard-close-x:hover:after,.vidyard-close-x:hover:before{background:#ddd}.vidyard-close-x:after,.vidyard-close-x:before{content:\\\"\\\";position:absolute;background:#fff;display:block;left:50%;top:50%;height:65%;width:2px;transition:all .2s;-ms-high-contrast-adjust:none}.vidyard-close-x:before{transform:translate(-50%,-50%) rotate(45deg);-ms-transform:translate(-50%,-50%) rotate(45deg)}.vidyard-close-x:after{transform:translate(-50%,-50%) rotate(-45deg);-ms-transform:translate(-50%,-50%) rotate(-45deg)}.vidyard-close-x.simple-close:after,.vidyard-close-x.simple-close:before{display:none}.vidyard-lightbox-thumbnail{width:100%;height:100%;margin:auto}.vidyard-lightbox-image{height:100%;left:0;position:absolute;top:0;width:100%}.vidyard-lightbox-centering{cursor:pointer;height:0;max-width:100%;overflow:hidden;padding-bottom:56.25%;position:relative}.vidyard-lightbox-content-backer{-webkit-transform:opacity 1s,filter 1s;-ms-transform:opacity 1s,filter 1s;transition:opacity 1s,filter 1s;background-color:#000;height:100%;width:100%;position:absolute}#vidyard-overlay-wrapper,.vidyard-lightbox-content-backer{filter:alpha(opacity = 0);opacity:0;top:0;right:0;bottom:0;left:0}#vidyard-overlay-wrapper{position:relative;box-sizing:border-box;display:none;transition:opacity .5s,filter .5s}#vidyard-overlay{top:0;right:0;bottom:0;left:0;opacity:.9;filter:alpha(opacity = 90);width:100%;height:100%;background-color:#000;z-index:800}#vidyard-content-fixed,#vidyard-overlay{position:fixed;box-sizing:border-box;display:none}#vidyard-content-fixed{opacity:1;z-index:900;text-align:center;top:5%;right:5%;bottom:5%;left:5%;width:90%}#vidyard-popbox{display:inline-block;position:absolute;left:50%;top:50%;-webit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}#vidyard-popbox-constraint{opacity:0;filter:alpha(opacity = 0);display:block;visibility:hidden}#vidyard-popbox-constraint.landscape{height:90vh}#vidyard-popbox-constraint.portrait{width:90vw}.vidyard-player-container div[class^=vidyard-iframe-]{z-index:1}.vidyard-player-container div[class^=vidyard-div-]{background-repeat:no-repeat;background-position:0 50%;background-size:100%}img.vidyard-player-embed{width:100%}img.vidyard-player-embed.inserted{position:absolute;top:0;left:0;z-index:0;max-width:100%!important}.vidyard-player-container.playlist-open{padding-right:319px;width:auto!important}.vidyard-player-container.playlist-open div[class^=vidyard-div-]{width:calc(100% + 319px);max-width:calc(100% + 319px)!important;background-size:calc(100% - 319px);background-color:#f5f9ff}.vidyard-player-container.playlist-open div[class^=vidyard-div-] img.vidyard-player-embed{width:calc(100% - 319px)!important}#backlink-icon{height:15px;width:15px;margin-right:6px;transition:.3s}#backlink{align-items:center;border-radius:4px;border:3px solid #ebeeff;display:inline-block;float:left;line-height:18px;margin:8px 0 0;outline:none;padding:1px 8px 1px 5px;position:relative;*zoom:1;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-style:normal;font-weight:400;font-size:12px;text-decoration:none}#backlink:after,#backlink:before{content:\\\" \\\";display:table}#backlink:after{clear:both}#backlink:link,#backlink:visited{background:#ebeeff;border-color:#ebeeff;color:#414dd4}#backlink:hover{background:#bfc2ff;color:#1b1a82;cursor:pointer}#backlink:focus,#backlink:hover{border-color:#bfc2ff}#backlink:active{background:#8f97ff;border-color:#8f97ff;color:#0c084d}#backlink-icon{float:left;height:18px;margin-right:5px;position:relative;width:18px}#backlink-text{float:left}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","'use strict'; // filter function for ancestor elements\n\nvar filterAncestor = function filterAncestor(item) {\n  return item.nodeType === 1 && item.tagName.toLowerCase() !== 'body' && item.tagName.toLowerCase() !== 'html';\n}; // filter function for sibling elements\n\n\nvar filterSibling = function filterSibling(item) {\n  return item.nodeType === 1 && item.tagName.toLowerCase() !== 'script';\n}; // reducer to flatten arrays\n\n\nvar flattenArrays = function flattenArrays(a, b) {\n  return a.concat(b);\n}; // recursive function to get previous sibling nodes of given element\n\n\nfunction getPreviousSiblings(el) {\n  var siblings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var previousSibling = el.previousSibling;\n\n  if (!previousSibling) {\n    return siblings;\n  }\n\n  siblings.push(previousSibling);\n  return getPreviousSiblings(previousSibling, siblings);\n} // recursive function to get next sibling nodes of given element\n\n\nfunction getNextSiblings(el) {\n  var siblings = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var nextSibling = el.nextSibling;\n\n  if (!nextSibling) {\n    return siblings;\n  }\n\n  siblings.push(nextSibling);\n  return getNextSiblings(nextSibling, siblings);\n} // returns all sibling element nodes of given element\n\n\nfunction getSiblings(el) {\n  var allSiblings = getPreviousSiblings(el).concat(getNextSiblings(el));\n  return allSiblings.filter(filterSibling);\n} // recursive function to get all ancestor nodes of given element\n\n\nfunction getAllAncestors(el) {\n  var ancestors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var nextAncestor = el.parentNode;\n\n  if (!nextAncestor) {\n    return ancestors;\n  }\n\n  ancestors.push(nextAncestor);\n  return getAllAncestors(nextAncestor, ancestors);\n} // get ancestor nodes of given element\n\n\nfunction getAncestors(el) {\n  return getAllAncestors(el).filter(filterAncestor);\n} // get siblings of ancestors (i.e. aunts and uncles) of given el\n\n\nfunction getSiblingsOfAncestors(el) {\n  return getAncestors(el).map(function (item) {\n    return getSiblings(item);\n  }).reduce(flattenArrays, []);\n}\n\nmodule.exports = {\n  getSiblings: getSiblings,\n  getAncestors: getAncestors,\n  getSiblingsOfAncestors: getSiblingsOfAncestors\n};\n","\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'undefined' !== typeof document && 'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n"],"sourceRoot":""}